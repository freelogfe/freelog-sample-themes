!function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["novel-theme-main"]=t():e["novel-theme-main"]=t()}(this,(function(){return(this["webpackJsonp_novel-theme"]=this["webpackJsonp_novel-theme"]||[]).push([[0],{24:function(e,t,c){},25:function(e,t,c){},26:function(e,t,c){},28:function(e,t,c){},35:function(e,t,c){},36:function(e,t,c){},37:function(e,t,c){},38:function(e,t,c){},39:function(e,t,c){},40:function(e,t,c){},41:function(e,t,c){},42:function(e,t,c){},43:function(e,t,c){},44:function(e,t,c){},45:function(e,t,c){},46:function(e,t,c){"use strict";c.r(t);var s=c(9),a=c.n(s),i=(c(24),c(1)),n=c.n(i),l=c(18),o=c(2),r=(c(25),c(26),"data:image/png;base64,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"),d=c.p+"static/media/default-avatar.4ee52d2d.png",b=c(11);window.freelogApp=b.freelogApp;const j=window,h=e=>j.freelogApp.getExhibitListById(e),m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return j.freelogApp.getExhibitInfo(e,t)},u=e=>j.freelogApp.getExhibitAuthStatus(e),A=()=>j.freelogApp.callLogin(),g=()=>j.freelogApp.callLoginOut(),O=()=>j.freelogApp.getSubDep(),x=e=>j.freelogApp.mountWidget(e);c(28);let p=null;const v=e=>{const t=document.getElementById("toast-wrapper");t&&document.body.removeChild(t),p&&clearTimeout(p);const c=document.createElement("div");c.className="toast-wrapper",c.id="toast-wrapper",c.innerHTML=e,document.body.appendChild(c),p=setTimeout((()=>{document.body.removeChild(c)}),2e3)},f=e=>{const{userData:t}=Object(i.useContext)(ee),[c,s]=Object(i.useState)([]),[a,n]=Object(i.useState)(null),[l,o]=Object(i.useState)(!1),r=async()=>{if(!(null===t||void 0===t?void 0:t.isLogin))return;const e=await(c="shelf",j.freelogApp.getUserData(c));var c;if(s(e||[]),!e||0===e.length)return void n([]);const a=e.join(),[i,l]=await Promise.all([h({exhibitIds:a}),u(a)]);e.forEach((e=>{const t=i.data.data.find((t=>t.exhibitId===e));if(!t)return;const c=l.data.data.find((t=>t.exhibitId===e));t.defaulterIdentityType=c.defaulterIdentityType})),n(i.data.data)},d=e=>c.includes(e);return Object(i.useEffect)((()=>{r()}),[e,null===t||void 0===t?void 0:t.isLogin]),Object(i.useEffect)((()=>{e&&o(d(e))}),[e,a]),{myShelf:a,isCollected:l,operateShelf:async e=>{if(!(null===t||void 0===t?void 0:t.isLogin))return void A();const s=d(e.exhibitId);if(s){const t=c.findIndex((t=>t===e.exhibitId));c.splice(t,1)}else c.push(e.exhibitId);var a,i;"success"===(await(a="shelf",i=c,j.freelogApp.setUserData(a,i))).data.msg?(v(s?"\u5df2\u5c06\u4e66\u7c4d\u4ece\u4e66\u67b6\u4e2d\u79fb\u9664\uff5e":"\u5df2\u5c06\u4e66\u7c4d\u52a0\u5165\u4e66\u67b6\uff5e"),r()):v("\u6536\u85cf\u5931\u8d25")}}},N=()=>{const{userData:e}=Object(i.useContext)(ee),[t,c]=Object(i.useState)(null),s=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!(null===e||void 0===e?void 0:e.isLogin))return;var s;const a=(await(s={keywords:t},j.freelogApp.getSignStatistics(s))).data.data.map((e=>e.subjectId)).join();if(!a)return void c([]);const[i,n]=await Promise.all([h({exhibitIds:a}),u(a)]);i.data.data.forEach((e=>{const t=n.data.data.find((t=>t.exhibitId===e.exhibitId));e.defaulterIdentityType=t.defaulterIdentityType})),c(i.data.data.filter((e=>!e.articleInfo.resourceType.includes("\u4e3b\u9898"))))};return Object(i.useEffect)((()=>{s()}),[null===e||void 0===e?void 0:e.isLogin]),{mySignedList:t,getMySignedList:s}},C=()=>{const e=document.getElementById("root"),[t,c]=Object(i.useState)(0),[s,a]=Object(i.useState)(0),[n,l]=Object(i.useState)(0),o=Object(i.useCallback)((()=>{c((null===e||void 0===e?void 0:e.scrollTop)||0),a((null===e||void 0===e?void 0:e.clientHeight)||0),l((null===e||void 0===e?void 0:e.scrollHeight)||0)}),[c,a,l,e]);return Object(i.useEffect)((()=>(null===e||void 0===e||e.addEventListener("scroll",o),()=>null===e||void 0===e?void 0:e.removeEventListener("scroll",o))),[o,e]),{scrollTop:t,clientHeight:s,scrollHeight:n,scrollToTop:()=>{null===e||void 0===e||e.scroll({top:0,behavior:"smooth"})}}},w=()=>{const e=Object(o.g)();return{switchPage:t=>{console.log(9999,t),e.push(t)},back:()=>{e.goBack()},pathname:e.location.pathname}};var y=c(5),k=c(0);const E=e=>{const t=w(),{locationHistory:c}=(()=>{const{locationHistory:e}=Object(i.useContext)(ee),t=Object(o.g)();return Object(i.useEffect)((()=>{e.length?"PUSH"===t.action?e.push(t.location.pathname):"POP"===t.action&&e.pop():e.push(t.location.pathname)}),[t]),{locationHistory:e}})(),{inMobile:s,userData:a,selfConfig:n}=Object(i.useContext)(ee),{searchHistory:l,searchWord:b,deleteWord:j,clearHistory:h}=(()=>{const[e,t]=Object(i.useState)([]),c=async()=>{const e=localStorage.getItem("searchHistory")||"[]";t(JSON.parse(e))};return Object(i.useEffect)((()=>{c()}),[]),{searchHistory:e,searchWord:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(t=t.trim(),!t)return;const s=e.findIndex((e=>e===t));-1!==s&&e.splice(s,1),10===e.length&&e.pop(),e.unshift(t),localStorage.setItem("searchHistory",JSON.stringify(e)),c()},deleteWord:t=>{const s=e.findIndex((e=>e===t));-1!==s&&(e.splice(s,1),localStorage.setItem("searchHistory",JSON.stringify(e)),c())},clearHistory:()=>{localStorage.setItem("searchHistory","[]"),t([])}}})(),[m,u]=Object(i.useState)(""),[O,x]=Object(i.useState)(0),[p,v]=Object(i.useState)(!1),[f,N]=Object(i.useState)(!1),[C,E]=Object(i.useState)([]),[B,S]=Object(i.useState)(!1),[I,P]=Object(i.useState)(null),D=Object(i.useCallback)((()=>{let e="/home";m&&(e+="?keywords=".concat(m)),t.switchPage(e)}),[t,m]),R=e=>{const t=document.getElementById("searchInput"),c=document.getElementById("searchHistoryPopup");if(!t||!c)return;const s=t.contains(e.target),a=c.contains(e.target);s||a?t.focus():S(!1)};return Object(i.useEffect)((()=>{0!==O&&(b(m),D())}),[O]),Object(i.useEffect)((()=>{document.body.style.overflowY=(p||f)&&s?"hidden":"auto"}),[p,f,s]),Object(i.useEffect)((()=>{E(l.filter((e=>e.includes(m))))}),[l,m]),Object(i.useEffect)((()=>{u(e.defaultSearchKey||"")}),[e.defaultSearchKey]),Object(i.useEffect)((()=>{B?document.addEventListener("click",R):document.removeEventListener("click",R)}),[B]),!0!==s||e.mobileSearching?!0===s&&e.mobileSearching?Object(k.jsxs)("div",{className:"mobile-search-header-wrapper",children:[Object(k.jsxs)("div",{className:"search-page-box",children:[Object(k.jsx)("input",{className:"search-input input-none ".concat(m&&"in-focus"),value:m,maxLength:100,onChange:e=>{u((e.target.value||"").trim()),!e.target.value&&t.switchPage("/home"),!e.target.value&&N(!0)},onKeyUp:e=>{13===e.keyCode&&x((e=>e+1))}}),Object(k.jsx)("i",{className:"freelog fl-icon-content"})]}),Object(k.jsx)("div",{className:"cancel-btn",onClick:()=>t.switchPage("/home"),children:"\u53d6\u6d88"})]}):!1===s?Object(k.jsx)("div",{className:"header-wrapper",children:Object(k.jsxs)("div",{className:"header-box",children:[Object(k.jsxs)("div",{className:"header-left",children:[Object(k.jsx)("img",{className:"logo",src:n.logoImage||r,alt:"logo",onClick:()=>t.switchPage("/home")}),Object(k.jsxs)("div",{className:"small-search-box",children:[Object(k.jsx)("input",{id:"searchInput",className:"search-input input-none ".concat(m&&"in-focus"),value:m,maxLength:100,onChange:e=>{u((e.target.value||"").trim()),S(!0),P(null)},onKeyUp:e=>(e=>{switch(e){case 13:null!==I&&u(C[I]),P(null),S(!1),x((e=>e+1));break;case 27:u(""),P(null),S(!0);break;case 38:P(null===I||0===I?null:I-1);break;case 40:S(!0),null===I?P(0):I!==C.length-1&&P(I+1)}})(e.keyCode),onFocus:()=>S(!0)}),Object(k.jsx)("i",{className:"freelog fl-icon-content"}),m&&Object(k.jsx)("i",{className:"freelog fl-icon-guanbi text-btn clear-btn",onClick:()=>{u(""),x((e=>e+1))}}),Object(k.jsx)(y.a,{in:B&&0!==C.length,classNames:"fade-in",timeout:200,unmountOnExit:!0,children:Object(k.jsxs)("div",{id:"searchHistoryPopup",className:"search-history",children:[Object(k.jsx)("div",{className:"history-list",children:C.map(((e,t)=>Object(k.jsxs)("div",{className:"history-item ".concat(I===t&&"catch"),onClick:()=>{u(e),x((e=>e+1))},onMouseMove:()=>P(t),onMouseLeave:()=>P(null),children:[Object(k.jsx)("div",{className:"item-word",children:e}),Object(k.jsx)("i",{className:"freelog fl-icon-guanbi delete-btn",onClick:t=>{t.stopPropagation(),j(e)}})]},e)))}),Object(k.jsx)("div",{className:"text-btn",onClick:()=>h(),children:"\u6e05\u7a7a\u641c\u7d22\u8bb0\u5f55"})]})})]})]}),Object(k.jsxs)("div",{className:"header-right",children:[Object(k.jsx)("div",{className:"nav-btn",onClick:()=>t.switchPage("/home"),children:"\u9996\u9875"}),(null===a||void 0===a?void 0:a.isLogin)&&Object(k.jsx)("div",{className:"nav-btn",onClick:()=>t.switchPage("/shelf"),children:"\u6211\u7684\u4e66\u67b6"}),(null===a||void 0===a?void 0:a.isLogin)?Object(k.jsxs)("div",{className:"user-avatar",onMouseOver:()=>v(!0),onMouseLeave:()=>v(!1),children:[Object(k.jsx)("img",{className:"avatar",src:a.headImage,alt:a.username}),Object(k.jsx)(y.a,{in:p,classNames:"slide-down-scale",timeout:200,unmountOnExit:!0,children:Object(k.jsx)("div",{className:"user-box",children:Object(k.jsxs)("div",{className:"user-box-body",children:[Object(k.jsx)("img",{className:"avatar",src:a.headImage,alt:a.username}),Object(k.jsx)("div",{className:"username",children:a.username}),Object(k.jsx)("div",{className:"btn user-box-btn",onClick:()=>t.switchPage("/signedList"),children:"\u5df2\u7b7e\u7ea6\u4e66\u7c4d"}),Object(k.jsx)("div",{className:"btn user-box-btn",onClick:()=>g(),children:"\u767b\u51fa"})]})})})]}):Object(k.jsxs)("div",{className:"user-btns",children:[Object(k.jsx)("div",{className:"btn header-login-btn",onClick:()=>A(),children:"\u767b\u5f55"}),Object(k.jsx)("div",{className:"btn header-register-btn",onClick:()=>window.open("https://user.freelog.com/logon"),children:"\u6ce8\u518c"})]})]})]})}):Object(k.jsx)(k.Fragment,{}):Object(k.jsxs)("div",{className:"mobile-header-wrapper ".concat(e.homeHeader&&"in-home"),children:[Object(k.jsxs)("div",{className:"header-top ".concat((null===a||void 0===a?void 0:a.isLogin)&&"logon"),children:[e.homeHeader?Object(k.jsx)("img",{className:"logo",src:n.logoImage||r,alt:"logo",referrerPolicy:"no-referrer",onClick:()=>t.switchPage("/home")}):Object(k.jsxs)("div",{className:"header-top-left",onClick:()=>1===c.length?t.switchPage("/home"):t.back(),children:[Object(k.jsx)("img",{className:"back-arrow",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAYCAYAAADKx8xXAAAAAXNSR0IArs4c6QAAARxJREFUOE+l1KFLQ1EUx/HvT0QEYeAfY3NOhAWLIBajRptYrVarbTaDJkEEEYsmk0kEiziGwWAQBBHDT668jet8e9vR1174cM8953eu+OOnUZ3taeAQ2JR0NxK0XQMugBngSlJjKLQ9BZwBs0AbqEvqVELbk8ApsAA8AXOSHtL1BkLbE8AxsAg8Aw1J992elELb48ARsAy8APOSbvNG/oK2x4ADYBV4TWVKuunv/g9oO/23gHXgDWhKui4bWT/cAzaA93Q3SZeD5tyDtneBLeADWJJ0XhWOb2h7B9gGPoEVSSfDEvU/WJwaL7Vblu14c4pTU+n7wFpoHAWOByArOR65DMdDnuH4WmU4X+THYierFznD8acjw/HHqiy3X0C+gBllQn/VAAAAAElFTkSuQmCC",alt:""}),1===c.length?Object(k.jsx)("div",{className:"back-label",children:"\u9996\u9875"}):Object(k.jsx)("div",{className:"back-label",children:"\u8fd4\u56de"})]}),Object(k.jsxs)("div",{className:"header-top-right",children:[!e.homeHeader&&!e.readerHeader&&Object(k.jsx)("i",{className:"freelog fl-icon-content",onClick:()=>N(!0)}),Object(k.jsx)("img",{className:"menu",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH4AAABgCAYAAADb/8ZjAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAfqADAAQAAAABAAAAYAAAAAD/Rj6lAAAEfklEQVR4Ae2dIU8kQRCFdwkJJAhAwC84CIawAofDY3EoFPyIE/cjQKFwWDxuHWLJGgL3C0CwiEtA7b1HpkmzTJA1b6ZfJZXume29qn7f1Exv3yT0ez/YdDpdxccD+DZ8Db4MX4Db9BR4R0qv8Gf4GD7q9/svaGutX3cWwFdw/gC+B68dU/c9n5NSYIpshvBrXACT2cy+QQX0HQw6hruyZ9Vq5zHvBBeAf5en/wU8oO/jw0N4fv4ex7fwR/gE/8AbWpuYAmC3iJR4p96A78K34MlY/Vdgd5NOfAKuKv0EH6RzT+hfYvBDGuy2PQqA5yayPYKvV1kT/nmq/A/IGMQr5Q883d7/on+GQf/Q2lqqALguIfVT+K9qCrzt/wbXyVx1ggu5BJ2VbuiVMG1uqsI9wxzIlEbGZN2bw1XBn2xcvSfj7d2VntRoeVuxvMymsUfmrPgBPD3X7zHQz/RMpS50K6ZcpNPIekDw3JxJxtW7rZsK5Gy3CZ47csn4k83WTQVytmsEz23YZN92eNIHbluvQM52meDTar6HZ4E3Z1rPt34CM2wXCN5WoAIGXyB0TtngDb5QBQqdtive4AtVoNBpu+INvlAFCp22K97gC1Wg0Gm74g2+UAUKnbYr3uALVaDQac8rzBvvgPHV32IM/0WaXnVrbM6+1TcmfbOBDb5Z/RuLbvCNSd9sYINvVv/Goht8Y9I3G1hiVa+wym0WQ3x0V3y85hIRDV4CQ3wSBh+vuUREg5fAEJ+EwcdrLhHR4CUwxCdh8PGaS0Q0eAkM8UkYfLzmEhENXgJDfBIGH6+5RESJvXq/gRN/Lbji4zWXiGjwEhjikzD4eM0lIhq8BIb4JAw+XnOJiBKrer+BE38tuOLjNZeIaPASGOKTMPh4zSUiGrwEhvgkDD5ec4mIBi+BIT4Jg4/XXCKiwUtgiE/C4OM1l4ho8BIY4pMw+HjNJSJK7NX7DZz4a8EVH6+5RESDl8AQn4TBx2suEdHgJTDEJ2Hw8ZpLRJRY1fsNnPhrwRUfr7lERIOXwBCfhMHHay4R0eAlMMQnYfDxmktENHgJDPFJGHy85hIRDV4CQ3wSBh+vuUREg5fAEJ+EwcdrLhHR4CUwxCdh8PGaS0Q0eAkM8UkQ/HsKi5ceF1PfbbcUmGH7TvCv2RRXsr673VIgZ/tK8M/Z/DayvrvdUiBn+0zw42x+u1nf3W4pkLMdE/wInv6o7xaeBZvdmq9nUzHdqpQg69Ec3nd7QWeYyXOEgUvZsbstVqBieZRNYUjmrHjaNTyt7tfRPzV8ytJuqxieYhZkSiNjsu59/h1zDNrB8Ul27gn9S1wdD2htLVMAPPnIZqUn6LzFn4PnHafyCZ4HGLyP5nDm/D2Ob+GP8Am++IbWJqYA2HEPhj/ZuHrnQi4909H9WMNdgd0ND2hfwPNEVfnH6C7w2NZ6BXh7v0iVnmbzDTw/AHxeOQfwPXjtGJy3aSvAWzsX7deAPplN9UeouABW8YUBfBu+Bl+G+04AEQSNlc1dWG7IcW9mBOD8xVZr/wGOx8DO+ORNfQAAAABJRU5ErkJggg==",alt:"\u83dc\u5355",onClick:()=>v(!0)})]})]}),e.homeHeader&&Object(k.jsx)("div",{className:"search-box",onClick:()=>N(!0),children:Object(k.jsx)("i",{className:"freelog fl-icon-content"})}),Object(k.jsx)(y.a,{in:p,classNames:"fade",timeout:200,unmountOnExit:!0,children:Object(k.jsx)("div",{id:"modal",className:"modal",onClick:()=>v(!1)})}),Object(k.jsx)(y.a,{in:p,classNames:"slide-right",timeout:200,unmountOnExit:!0,children:Object(k.jsxs)("div",{className:"user-box-body",children:[Object(k.jsxs)("div",{className:"user-box-top",children:[Object(k.jsx)("img",{className:"avatar",src:(null===a||void 0===a?void 0:a.headImage)||d,alt:(null===a||void 0===a?void 0:a.username)||"\u672a\u767b\u5f55",onClick:()=>!(null===a||void 0===a?void 0:a.isLogin)&&A()}),Object(k.jsx)("div",{className:"username",onClick:()=>!(null===a||void 0===a?void 0:a.isLogin)&&A(),children:(null===a||void 0===a?void 0:a.username)||"\u672a\u767b\u5f55"}),Object(k.jsx)("div",{className:"close-btn",onClick:()=>v(!1),children:Object(k.jsx)("i",{className:"freelog fl-icon-guanbi"})})]}),Object(k.jsxs)("div",{className:"btns",children:[Object(k.jsxs)("div",{className:"menu-btns",children:[Object(k.jsxs)("div",{className:"btn ".concat(t.pathname.startsWith("/home")&&"active"),onClick:()=>!t.pathname.startsWith("/home")&&t.switchPage("/home"),children:[Object(k.jsx)("i",{className:"freelog fl-icon-shouye"}),Object(k.jsx)("div",{className:"btn-label",children:"\u9996\u9875"})]}),(null===a||void 0===a?void 0:a.isLogin)&&Object(k.jsxs)("div",{className:"btn ".concat(t.pathname.startsWith("/shelf")&&"active"),onClick:()=>t.switchPage("/shelf"),children:[Object(k.jsx)("i",{className:"freelog fl-icon-shujia"}),Object(k.jsx)("div",{className:"btn-label",children:"\u6211\u7684\u4e66\u67b6"})]}),(null===a||void 0===a?void 0:a.isLogin)&&Object(k.jsxs)("div",{className:"btn ".concat(t.pathname.startsWith("/signedList")&&"active"),onClick:()=>t.switchPage("/signedList"),children:[Object(k.jsx)("i",{className:"freelog fl-icon-lishi"}),Object(k.jsx)("div",{className:"btn-label",children:"\u5df2\u7b7e\u7ea6\u4e66\u7c4d"})]})]}),(null===a||void 0===a?void 0:a.isLogin)&&Object(k.jsxs)("div",{className:"footer-btn",onClick:()=>g(),children:[Object(k.jsx)("i",{className:"freelog fl-icon-tuichu1"}),Object(k.jsx)("div",{className:"btn-label",children:"\u9000\u51fa\u767b\u5f55"})]}),!(null===a||void 0===a?void 0:a.isLogin)&&Object(k.jsx)("div",{className:"footer-btn",children:Object(k.jsx)("div",{className:"main-btn mobile",onClick:()=>A(),children:"\u7acb\u5373\u767b\u5f55"})})]})]})}),Object(k.jsx)(y.a,{in:f,classNames:"fade",timeout:200,unmountOnExit:!0,children:Object(k.jsxs)("div",{className:"search-page",children:[Object(k.jsxs)("div",{className:"search-page-header",children:[Object(k.jsxs)("div",{className:"search-page-box",children:[Object(k.jsx)("input",{className:"search-input input-none ".concat(m&&"in-focus"),value:m,autoFocus:!0,onChange:e=>u((e.target.value||"").trim()),onKeyUp:e=>{13===e.keyCode&&N(!1),13===e.keyCode&&x((e=>e+1)),27===e.keyCode&&u("")}}),Object(k.jsx)("i",{className:"freelog fl-icon-content"})]}),Object(k.jsx)("div",{className:"cancel-btn",onClick:()=>N(!1),children:"\u53d6\u6d88"})]}),0!==l.length&&Object(k.jsxs)("div",{className:"search-history-box",children:[Object(k.jsxs)("div",{className:"search-history-box-title",children:[Object(k.jsx)("div",{className:"title",children:"\u641c\u7d22\u8bb0\u5f55"}),Object(k.jsx)("div",{className:"text-btn",onClick:()=>h(),children:"\u6e05\u7a7a"})]}),Object(k.jsx)("div",{className:"search-history-box-list",children:l.map((e=>Object(k.jsxs)("div",{className:"tag",onClick:()=>{N(!1),u(e),x((e=>e+1))},children:[e,Object(k.jsx)("i",{className:"freelog fl-icon-guanbi",onClick:t=>{t.stopPropagation(),j(e)}})]},e)))})]})]})})]})};c(35);var B="data:image/png;base64,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";c(36);const S=e=>{const{data:t}=e,{inMobile:c}=Object(i.useContext)(ee),s=w();return Object(k.jsx)("div",{className:"tag-wrapper",children:t.map((e=>Object(k.jsx)("div",{className:"tag ".concat(c?"in-mobile":"in-pc"),title:"\u641c\u7d22\u201c".concat(e,"\u201d"),onClick:t=>{t.stopPropagation(),s.switchPage("/home?tags=".concat(e))},children:e},e)))})},I=e=>{const{mode:t=1,data:c,operateShelf:s}=e,{inMobile:a}=Object(i.useContext)(ee),n=w(),l=Object(i.useRef)(!1),o=e=>{[0,4].includes(c.defaulterIdentityType)?n.switchPage("".concat(e,"?id=").concat(c.exhibitId)):v("\u6388\u6743\u94fe\u5f02\u5e38\uff0c\u65e0\u6cd5\u67e5\u770b")};return 4===t?Object(k.jsxs)("div",{className:"mobile-shelf-novel-wrapper",onClick:()=>o("/detail"),children:[Object(k.jsxs)("div",{className:"book-cover-box",children:[Object(k.jsx)("img",{className:"book-cover ".concat(![0,4].includes(c.defaulterIdentityType)&&"opacity-40p"),src:c.coverImages[0],alt:c.exhibitTitle}),0===c.onlineStatus&&Object(k.jsx)("div",{className:"offline",children:"\u5df2\u4e0b\u67b6"})]}),Object(k.jsxs)("div",{className:"book-name",title:c.exhibitTitle,children:[![0,4].includes(c.defaulterIdentityType)&&Object(k.jsx)("img",{className:"auth-link-abnormal",src:B,alt:"\u6388\u6743\u94fe\u5f02\u5e38"}),Object(k.jsx)("div",{className:"name ".concat(![0,4].includes(c.defaulterIdentityType)&&"opacity-40p"),children:c.exhibitTitle})]}),Object(k.jsx)("div",{className:"book-author ".concat(![0,4].includes(c.defaulterIdentityType)&&"opacity-40p"),children:c.articleInfo.articleOwnerName})]}):Object(k.jsx)("div",{className:"novel-wrapper ".concat(a?"in-mobile":"in-pc"),onClick:()=>o("/detail"),children:Object(k.jsxs)("div",{className:"novel-content",children:[Object(k.jsxs)("div",{className:"book-cover-box",children:[Object(k.jsx)("img",{className:"book-cover ".concat(![0,4].includes(c.defaulterIdentityType)&&"opacity-40p"),src:c.coverImages[0],alt:c.exhibitTitle}),0===c.onlineStatus&&Object(k.jsx)("div",{className:"offline",children:"\u5df2\u4e0b\u67b6"})]}),Object(k.jsxs)("div",{className:"book-info ".concat(3===t&&a&&"auth-book"),children:[Object(k.jsxs)("div",{className:"book-name-box",title:c.exhibitTitle,children:[![0,4].includes(c.defaulterIdentityType)&&Object(k.jsx)("img",{className:"auth-link-abnormal",src:B,alt:"\u6388\u6743\u94fe\u5f02\u5e38"}),3!==t&&c.defaulterIdentityType>=4&&Object(k.jsx)("img",{className:"lock",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAkRJREFUWEftl0tr1FAUx//n3piZhYK4sj5WguLKTRaT5FJEcKGgVEFFXQr6CVr8CNJ+Ah+4s4JCLYi6kyJJZhZBcCUKrnzUlSAKziO5R26ZSJRmJpmpHYXe7T3nf3/ncXNPCBVWHMfbut3ujNZ6BoADYE/f/ROAWAixbNv2suM4vbKyVNYwiqIzzLzAzAcG+RDROyKa9TzvURntoQDMLJrN5g2t9WwZwcxGCLHguu51ItIDgYeJRlE0X/XwPITneXMjA5i0a62X8gJExMx8F8CSbdsvhRA/er3etNb6FIArJmN5eyHE2UHlKCyBabhOp/P6j5p/JqILvu+/WC+qMAyPMfM9ALuzfdMTtVrtcFFjFgJEUXROa/0gJ2Rqedz3/eeDUhqG4TSAFWb+pS2EOO953sP1/AoBgiAwkVzKAdz2ff/qsJ4x+0EQ3DHlyNkuKqUuVwV4A+Bg5iSlPO267uOSACcBPMnZvlVKHaoK8A3A9sypXq/vdBznaxmAOI6n2u22+Thl67tSakchQKvV2pem6TwzHwUwVeaQMWxWiWhFSjnXaDQ+UP/wV8y8awzRyq5E9EVKeYTCMFxk5ouVFTbAgYjuUxAEplZ/O+1FuKsGgDcgmJEl/l8AInoqpbxmQk+S5BaAE6OkYZwM7FVKrd11c5OSJHm/qQBKqd8+46P20sgZ2ALYysDEM2BZ1n7zmvUHEPN/8HFTryGAZ5ZlrU1IaZreZGYzhFReI1/DyicVOPwTAJN9jic+kEx8JMtes0kNpT8BOb8zgBhjWW4AAAAASUVORK5CYII=",alt:"\u672a\u6388\u6743"}),Object(k.jsx)("div",{className:"book-name ".concat(![0,4].includes(c.defaulterIdentityType)&&"opacity-40p"),children:c.exhibitTitle}),3===t&&c.defaulterIdentityType<4&&!a&&Object(k.jsx)("div",{className:"tag is-auth",children:"\u5df2\u6388\u6743"}),3===t&&c.defaulterIdentityType>=4&&!a&&Object(k.jsx)("div",{className:"tag not-auth",children:"\u672a\u6388\u6743"})]}),Object(k.jsx)("div",{className:"book-author ".concat(![0,4].includes(c.defaulterIdentityType)&&"opacity-40p"),children:c.articleInfo.articleOwnerName}),!(3===t&&a)&&Object(k.jsx)("div",{className:"tags ".concat(![0,4].includes(c.defaulterIdentityType)&&"opacity-40p"),children:Object(k.jsx)(S,{data:c.tags})}),3===t&&a&&Object(k.jsx)("div",{className:"auth-tag ".concat(c.defaulterIdentityType<4?"is-auth":"not-auth"),children:c.defaulterIdentityType<4?"\u5df2\u6388\u6743":"\u672a\u6388\u6743"})]}),!(3===t&&a)&&Object(k.jsx)("i",{className:"freelog fl-icon-zhankaigengduo ".concat(![0,4].includes(c.defaulterIdentityType)&&"opacity-40p")}),[2,3].includes(t)&&Object(k.jsx)("div",{className:"main-btn btn ".concat(![0,4].includes(c.defaulterIdentityType)&&"disabled"),onClick:e=>{e.stopPropagation(),o("/reader")},children:"\u7acb\u5373\u9605\u8bfb"}),2===t&&Object(k.jsx)("div",{className:"warning-btn btn",onClick:e=>{e.stopPropagation(),l.current||(l.current=!0,s&&s(c))},children:"\u79fb\u51fa\u4e66\u67b6"})]})})},P={"\u9177\u9ed1":{gradientColor:"linear-gradient(135deg, #222222, #353535)",deriveColor:"#222222"},"\u70ab\u4e3d":{gradientColor:"linear-gradient(135deg, #C127FF, #35A3C5)",deriveColor:"#C127FF"},"\u6d3b\u529b":{gradientColor:"linear-gradient(135deg, #F08840, #F0C23F)",deriveColor:"#F08840"},"\u7070\u5ea6":{gradientColor:"linear-gradient(135deg, #2C3E50, #BDC3C7)",deriveColor:"#2C3E50"},"\u871c\u6843":{gradientColor:"linear-gradient(135deg, #E7949F, #E2C1A3)",deriveColor:"#E7949F"},"\u6e05\u65b0":{gradientColor:"linear-gradient(135deg, #5D9191, #A2D5C5)",deriveColor:"#5D9191"},"\u6c89\u9759":{gradientColor:"linear-gradient(315deg, #2C5364, #0F2027)",deriveColor:"#0F2027"}},D=[{bookColor:"#ffffff",bgColor:"#efefef",type:0},{bookColor:"#F6ECC9",bgColor:"#EAD9AA",type:0},{bookColor:"#E3EFE3",bgColor:"#CEE0CE",type:0},{bookColor:"#E2EFF2",bgColor:"#D1DEE1",type:0},{bookColor:"#F5E3E4",bgColor:"#EACECD",type:0},{bookColor:"#111111",bgColor:"#181818",type:1}],R=[{label:"freelog fl-icon-a-featherlogo5",url:"https://www.freelog.com/"},{label:"\u5173\u4e8efreelog",url:"https://freelog4.freelog.com/$freelog-61f252ef6fe5c1002e2c7b4b=/home_id=62d0d202456ff0002e3295ab"},{label:"\u4f7f\u7528\u6b64\u4e3b\u9898",url:"https://console.freelog.com/resource/details/61f251286fe5c1002e2c7b41"},{label:"\u6d4f\u89c8\u66f4\u591a\u4e3b\u9898",url:"https://console.freelog.com/market?query=\u4e3b\u9898"}];c(37);const Q=()=>{const e=R[2],{inMobile:t,selfConfig:c,theme:s}=Object(i.useContext)(ee);return Object(k.jsxs)("div",{className:"theme-entrance-wrapper ".concat(!t&&"\u663e\u793a"===c.entranceShow&&"show"),style:{boxShadow:"0px 2px 10px 0px ".concat(s.deriveColor,"40")},onClick:()=>window.open(e.url),children:[Object(k.jsx)("i",{className:"freelog fl-icon-shiyongzhuti"}),Object(k.jsx)("div",{className:"text",children:e.label})]})};c(38);const U=()=>{const{inMobile:e}=Object(i.useContext)(ee);return!0===e?Object(k.jsx)("div",{className:"mobile-footer-wrapper",children:R.filter(((e,t)=>t<2)).map(((e,t)=>Object(k.jsx)("div",{className:"second-text-btn mobile",onClick:()=>window.open(e.url),children:0===t?Object(k.jsx)("i",{className:e.label}):Object(k.jsx)("span",{children:e.label})},e.label)))}):!1===e?Object(k.jsx)("div",{className:"footer-wrapper",children:R.map(((e,t)=>Object(k.jsx)("div",{className:"second-text-btn",onClick:()=>window.open(e.url),children:0===t?Object(k.jsx)("i",{className:e.label}):Object(k.jsx)("span",{children:e.label})},e.label)))}):Object(k.jsx)(k.Fragment,{})};c(39);const T=()=>{const{userData:e,inMobile:t,theme:c}=Object(i.useContext)(ee);return Object(k.jsx)("div",{className:"login-btn-wrapper main-btn mobile ".concat(((null===e||void 0===e?void 0:e.isLogin)||!t)&&"hidden"),style:{boxShadow:"0px 2px 10px 0px ".concat(c.deriveColor,"40")},onClick:()=>A(),children:"\u767b\u5f55 / \u6ce8\u518c"})};c(40);const H=()=>Object(k.jsx)("div",{className:"loader-wrapper",children:Object(k.jsxs)("div",{className:"book",children:[Object(k.jsxs)("div",{className:"static-page",children:[Object(k.jsx)("span",{}),Object(k.jsx)("span",{}),Object(k.jsx)("span",{}),Object(k.jsx)("span",{}),Object(k.jsx)("span",{})]}),Object(k.jsxs)("div",{className:"static-page right",children:[Object(k.jsx)("span",{}),Object(k.jsx)("span",{}),Object(k.jsx)("span",{}),Object(k.jsx)("span",{}),Object(k.jsx)("span",{})]}),Object(k.jsxs)("div",{className:"page",children:[Object(k.jsx)("span",{}),Object(k.jsx)("span",{}),Object(k.jsx)("span",{}),Object(k.jsx)("span",{}),Object(k.jsx)("span",{})]})]})}),F=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD hh:mm:ss";if(!e)return"";const c=new Date(e),s=String(c.getFullYear()),a=String(c.getMonth()+1).padStart(2,"0"),i=String(c.getDate()).padStart(2,"0"),n=String(c.getHours()).padStart(2,"0"),l=String(c.getMinutes()).padStart(2,"0"),o=String(c.getSeconds()).padStart(2,"0");return t.replace("YYYY",s).replace("MM",a).replace("DD",i).replace("hh",n).replace("mm",l).replace("ss",o)},V=e=>{e=decodeURIComponent(e);const t={};return e.replace("?","").split("&").forEach((e=>{const[c,s]=e.split("=");t[c]=s})),t},L=e=>{var t;const{novelList:c,searching:s,total:a,tags:n,keywords:l,loading:o,myloading:r}=e,{inMobile:d,userData:b,selfConfig:j}=Object(i.useContext)(ee),h=null===(t=j.tags)||void 0===t?void 0:t.split(","),{myShelf:m}=f(),u=w(),[A,g]=Object(i.useState)(!1),O=e=>{if(!e&&!l)return void u.switchPage("/home");let t="/home?";e&&(t+="tags=".concat(e)),l&&(t+="".concat(e?"&":"","keywords=").concat(l)),u.switchPage(t)};return!0===d?Object(k.jsxs)("div",{className:"mobile-home-body",children:[!s&&(null===b||void 0===b?void 0:b.isLogin)&&m&&0!==m.length&&Object(k.jsxs)("div",{className:"shelf-book-list",children:[Object(k.jsxs)("div",{className:"shelf-header",children:[Object(k.jsx)("div",{className:"box-title",children:"\u6211\u7684\u4e66\u67b6"}),Object(k.jsxs)("div",{className:"more-shelf",onClick:()=>u.switchPage("/shelf"),children:["\u5168\u90e8",Object(k.jsx)("i",{className:"freelog fl-icon-zhankaigengduo"})]})]}),Object(k.jsx)("div",{className:"book-list-box",children:m.map((e=>Object(k.jsx)("div",{className:"book-box",children:Object(k.jsx)(I,{mode:4,data:e})},e.exhibitId)))})]}),Object(k.jsxs)("div",{className:"book-list",children:[s?Object(k.jsxs)("div",{className:"search-box-title",children:[Object(k.jsxs)("div",{className:"box-title",children:["\u67e5\u8be2\u5230",c.length,"\u4e2a\u76f8\u5173\u7ed3\u679c"]}),Object(k.jsxs)("div",{className:"text-btn mobile ".concat(r&&"disabled"),onClick:()=>g(!0),children:[Object(k.jsx)("i",{className:"freelog fl-icon-shaixuan"}),Object(k.jsx)("div",{className:"filter-label",children:"\u7b5b\u9009"})]})]}):Object(k.jsxs)("div",{className:"box-header",children:[Object(k.jsx)("div",{className:"box-title",children:"\u7cbe\u9009\u5c0f\u8bf4"}),Object(k.jsxs)("div",{className:"text-btn mobile ".concat(r&&"disabled"),onClick:()=>g(!0),children:[Object(k.jsx)("i",{className:"freelog fl-icon-shaixuan"}),Object(k.jsx)("div",{className:"filter-label",children:"\u7b5b\u9009"})]})]}),o&&Object(k.jsx)(H,{}),!o&&c.map((e=>Object(k.jsx)("div",{className:"book-box",children:Object(k.jsx)(I,{data:e})},e.exhibitId))),!o&&0===c.length&&Object(k.jsx)("div",{className:"tip",children:"\u5f53\u524d\u8282\u70b9\u6682\u65e0\u4efb\u4f55\u4e66\u7c4d\uff0c\u8bf7\u7a0d\u540e\u67e5\u770b"}),!o&&0!==c.length&&c.length===a&&Object(k.jsx)("div",{className:"tip no-more",children:"\u2014 \u5df2\u52a0\u8f7d\u5168\u90e8\u4e66\u7c4d \u2014"})]}),Object(k.jsx)(y.a,{in:A,classNames:"fade",timeout:200,unmountOnExit:!0,children:Object(k.jsx)("div",{id:"modal",className:"modal",onClick:()=>g(!1)})}),Object(k.jsx)(y.a,{in:A,classNames:"slide-right",timeout:200,unmountOnExit:!0,children:Object(k.jsxs)("div",{className:"filter-box-body",children:[Object(k.jsxs)("div",{className:"filter-box-header",children:[Object(k.jsx)("div",{className:"header-title",children:"\u6309\u6807\u7b7e\u7b5b\u9009"}),Object(k.jsx)("div",{className:"close-btn",onClick:()=>g(!1),children:Object(k.jsx)("i",{className:"freelog fl-icon-guanbi"})})]}),Object(k.jsxs)("div",{className:"tags-box",children:[Object(k.jsx)("div",{className:"tag ".concat(!n&&"active"),onClick:()=>{g(!1),O("")},children:"\u5168\u90e8"}),Object(k.jsx)("div",{className:"tags-box-list",children:h.map((e=>Object(k.jsx)("div",{className:"tag ".concat(n===e&&"active"),onClick:()=>{g(!1),O(e)},children:e},e)))})]})]})})]}):!1===d?Object(k.jsxs)("div",{className:"home-body",children:[!s&&(null===b||void 0===b?void 0:b.isLogin)&&m&&0!==m.length&&Object(k.jsxs)("div",{className:"book-list",children:[Object(k.jsxs)("div",{className:"shelf-header",children:[Object(k.jsx)("div",{className:"box-title",children:"\u6211\u7684\u4e66\u67b6"}),Object(k.jsx)("div",{className:"shelf-header-right",children:Object(k.jsx)("div",{className:"text-btn",onClick:()=>u.switchPage("/shelf"),children:"\u7ba1\u7406\u4e66\u67b6"})})]}),Object(k.jsx)("div",{className:"book-list-box",children:m.map((e=>Object(k.jsx)("div",{className:"book-box",children:Object(k.jsx)(I,{data:e})},e.exhibitId)))})]}),Object(k.jsxs)("div",{className:"book-list",children:[s?Object(k.jsxs)("div",{className:"search-box-title",children:["\u67e5\u8be2\u5230",c.length,"\u4e2a\u76f8\u5173\u7ed3\u679c"]}):Object(k.jsx)("div",{className:"box-title",children:"\u7cbe\u9009\u5c0f\u8bf4"}),Object(k.jsxs)("div",{className:"filter-bar",children:[Object(k.jsx)("div",{className:"filter-bar-bg"}),Object(k.jsx)("div",{className:"category-btn ".concat(!n&&"active"," ").concat(r&&"disabled"),onClick:()=>O(""),children:"\u5168\u90e8"}),h.map((e=>Object(k.jsx)("div",{className:"category-btn ".concat(n===e&&"active"," ").concat(r&&"disabled"),onClick:()=>O(e),children:e},e)))]}),o&&Object(k.jsx)(H,{}),!o&&Object(k.jsx)("div",{className:"book-list-box",children:c.map((e=>Object(k.jsx)("div",{className:"book-box",children:Object(k.jsx)(I,{data:e})},e.exhibitId)))}),!o&&0===c.length&&Object(k.jsx)("div",{className:"tip",children:"\u5f53\u524d\u8282\u70b9\u6682\u65e0\u4efb\u4f55\u4e66\u7c4d\uff0c\u8bf7\u7a0d\u540e\u67e5\u770b"}),!o&&0!==c.length&&c.length===a&&Object(k.jsx)("div",{className:"tip no-more",children:"\u2014 \u5df2\u52a0\u8f7d\u5168\u90e8\u4e66\u7c4d \u2014"})]})]}):Object(k.jsx)(k.Fragment,{})};c(41);const q=e=>{const{userData:t,inMobile:c}=Object(i.useContext)(ee),{shelfList:s,operateShelf:a}=e,n=w();return(null===t||void 0===t?void 0:t.isLogin)&&s?Object(k.jsxs)("div",{className:"content",children:[Object(k.jsx)("div",{className:"shelf-title",children:"\u6211\u7684\u4e66\u67b6"}),s.map((e=>Object(k.jsx)("div",{className:"book-box",children:Object(k.jsx)(I,{mode:2,data:e,operateShelf:a})},e.exhibitId))),0===s.length&&Object(k.jsx)("div",{className:"tip",children:"\u6682\u65e0\u6570\u636e\uff0c\u5feb\u53bb\u6536\u85cf\u4e66\u7c4d\u5230\u4e66\u67b6\u5427\uff5e"}),Object(k.jsx)("div",{className:"add-book-box",children:Object(k.jsxs)("div",{className:"add-book-btn",onClick:()=>n.switchPage("/home"),children:[Object(k.jsx)("i",{className:"freelog fl-icon-tianjia"}),Object(k.jsx)("span",{children:"\u6dfb\u52a0\u4e66\u7c4d"})]})})]}):!1===(null===t||void 0===t?void 0:t.isLogin)?Object(k.jsxs)("div",{className:"not-login-content",children:[Object(k.jsx)("div",{className:"not-login-tip",children:"\u6b64\u9875\u9762\u9700\u767b\u5f55\u6d4f\u89c8\uff0c\u8bf7\u5148\u767b\u5f55"}),!c&&Object(k.jsx)("div",{className:"main-btn",onClick:()=>A(),children:"\u767b\u5f55"})]}):Object(k.jsx)(k.Fragment,{})};c(42);const W=()=>{const{userData:e,inMobile:t}=Object(i.useContext)(ee),{mySignedList:c,getMySignedList:s}=N(),[a,n]=Object(i.useState)("");return(null===e||void 0===e?void 0:e.isLogin)&&c?Object(k.jsxs)("div",{className:"content",children:[Object(k.jsxs)("div",{className:"content-header",children:[Object(k.jsx)("div",{className:"signed-list-title",children:"\u5df2\u7b7e\u7ea6\u4e66\u7c4d"}),Object(k.jsxs)("div",{className:"search-box",children:[Object(k.jsx)("input",{className:"search-input input-none",value:a,placeholder:"\u641c\u7d22",onChange:e=>n((e.target.value||"").trim()),onKeyUp:e=>{13===e.keyCode&&s(a),27===e.keyCode&&n("")}}),Object(k.jsx)("i",{className:"freelog fl-icon-content"})]})]}),c.map((e=>Object(k.jsx)("div",{className:"book-box",children:Object(k.jsx)(I,{mode:3,data:e})},e.exhibitId))),!c.length&&Object(k.jsx)("div",{className:"tip",children:"\u6682\u65e0\u6570\u636e\uff0c\u5feb\u53bb\u7b7e\u7ea6\u4e66\u7c4d\u5427\uff5e"})]}):!1===(null===e||void 0===e?void 0:e.isLogin)?Object(k.jsxs)("div",{className:"not-login-content",children:[Object(k.jsx)("div",{className:"not-login-tip",children:"\u6b64\u9875\u9762\u9700\u767b\u5f55\u6d4f\u89c8\uff0c\u8bf7\u5148\u767b\u5f55"}),!t&&Object(k.jsx)("div",{className:"main-btn",onClick:()=>A(),children:"\u767b\u5f55"})]}):Object(k.jsx)(k.Fragment,{})};c(43);const G=n.a.createContext({}),M=()=>{const{inMobile:e}=Object(i.useContext)(ee),{novel:t}=Object(i.useContext)(G),{isCollected:c,operateShelf:s}=f(null===t||void 0===t?void 0:t.exhibitId),a=w(),n=Object(i.useRef)(),l=Object(i.useRef)(),[o,r]=Object(i.useState)(0),[d,b]=Object(i.useState)(""),h=()=>{var e;document.getElementById("href").select(),document.execCommand("Copy"),v("\u94fe\u63a5\u590d\u5236\u6210\u529f\uff5e"),e={taskConfigCode:"TS000077",meta:{presentableId:t.exhibitId}},j.freelogApp.pushMessage4Task(e)},m=(e,t)=>{l.current&&l.current.getApi().setData&&l.current.getApi().setData(e,t)};return Object(i.useEffect)((()=>(b(j.location.currentURL),()=>{e||async function(){}()})),[]),Object(i.useEffect)((()=>{var c;(null===(c=n.current)||void 0===c?void 0:c.clientHeight)>(e?120:60)&&r(1),t&&(async()=>{if(e)return;const c=await O(),s=c.subDep.find((e=>"Nodeconsumer/\u5206\u4eab\u63d2\u4ef6"===e.name));s&&(l.current=await x({widget:s,container:document.getElementById("share"),topExhibitData:c,config:{exhibit:t,type:"\u5c0f\u8bf4"},wujieConfig:{},widget_entry:"https://localhost:8200"}))})()}),[t,e]),e?Object(k.jsx)("div",{className:"mobile-content",children:t&&Object(k.jsxs)(k.Fragment,{children:[![0,4].includes(t.defaulterIdentityType)&&Object(k.jsxs)("div",{className:"auth-link-abnormal-tip",children:[Object(k.jsx)("img",{className:"auth-link-abnormal",src:B,alt:"\u6388\u6743\u94fe\u5f02\u5e38"}),Object(k.jsx)("div",{className:"tip-text",children:"\u6388\u6743\u94fe\u5f02\u5e38\uff0c\u65e0\u6cd5\u67e5\u770b"})]}),Object(k.jsxs)("div",{className:"novel-info",children:[Object(k.jsxs)("div",{className:"novel-base-info",children:[Object(k.jsx)("div",{className:"novel-cover",children:Object(k.jsx)("img",{className:"novel-cover-image",src:t.coverImages[0],alt:t.exhibitTitle})}),Object(k.jsxs)("div",{className:"novel-content",children:[Object(k.jsxs)("div",{className:"content-top",children:[Object(k.jsx)("div",{className:"novel-name",children:t.exhibitTitle}),Object(k.jsx)("div",{className:"novel-author",children:t.articleInfo.articleOwnerName}),Object(k.jsx)("div",{className:"tags",children:Object(k.jsx)(S,{data:t.tags||[]})})]}),Object(k.jsxs)("div",{className:"content-bottom",children:[Object(k.jsxs)("div",{className:"sign-count",children:[t.signCount,"\u4eba\u7b7e\u7ea6"]}),Object(k.jsx)("div",{className:"share-btn",onClick:()=>h(),children:Object(k.jsxs)("span",{className:"share-btn-text",children:[Object(k.jsx)("i",{className:"freelog fl-icon-fenxiang"}),"\u5206\u4eab\u7ed9\u66f4\u591a\u4eba"]})}),Object(k.jsx)("input",{id:"href",className:"hidden-input",value:d,readOnly:!0})]})]})]}),Object(k.jsxs)("div",{className:"novel-date-info",children:[Object(k.jsxs)("div",{className:"date-info",children:["\u521b\u5efa\u65f6\u95f4\uff1a",F(t.createDate)]}),Object(k.jsxs)("div",{className:"date-info",children:["\u6700\u8fd1\u66f4\u65b0\uff1a",F(t.updateDate)]})]}),Object(k.jsxs)("div",{className:"operate-btns",children:[Object(k.jsx)("div",{className:"btn main-btn mobile ".concat(![0,4].includes(t.defaulterIdentityType)&&"disabled"),onClick:()=>a.switchPage("/reader?id=".concat(t.exhibitId)),children:"\u7acb\u5373\u9605\u8bfb"}),Object(k.jsx)("div",{className:"btn ".concat(c?"delete":"collect-btn mobile"),onClick:()=>s(t),children:c?"\u79fb\u51fa\u4e66\u67b6":"\u52a0\u5165\u4e66\u67b6"})]})]}),Object(k.jsxs)("div",{className:"novel-intro",children:[Object(k.jsx)("div",{className:"intro-title",children:"\u5185\u5bb9\u7b80\u4ecb"}),t.exhibitIntro?Object(k.jsxs)("div",{className:"intro ".concat(1===o?"fold":"unfold"),children:[Object(k.jsx)("div",{className:"intro-content",ref:n,children:t.exhibitIntro}),1===o&&Object(k.jsx)("div",{className:"view-all-btn",onClick:()=>r(3),children:"...\u67e5\u770b\u5168\u90e8"})]}):Object(k.jsx)("div",{className:"no-intro-tip",children:"\u6682\u65e0\u7b80\u4ecb"})]})]})}):Object(k.jsx)("div",{className:"content",onMouseOver:()=>m("show",!1),children:t&&Object(k.jsxs)("div",{className:"content-box",children:[![0,4].includes(t.defaulterIdentityType)&&Object(k.jsxs)("div",{className:"auth-link-abnormal-tip",children:[Object(k.jsx)("img",{className:"auth-link-abnormal",src:B,alt:"\u6388\u6743\u94fe\u5f02\u5e38"}),Object(k.jsx)("div",{className:"tip-text",children:"\u6388\u6743\u94fe\u5f02\u5e38\uff0c\u65e0\u6cd5\u67e5\u770b"})]}),Object(k.jsxs)("div",{className:"novel-info",children:[Object(k.jsx)("div",{className:"novel-cover",children:Object(k.jsx)("img",{className:"novel-cover-image",src:t.coverImages[0],alt:t.exhibitTitle})}),Object(k.jsxs)("div",{className:"novel-content",children:[Object(k.jsx)("div",{className:"novel-name",children:t.exhibitTitle}),Object(k.jsx)("div",{className:"novel-author",children:t.articleInfo.articleOwnerName}),Object(k.jsx)("div",{className:"tags",children:Object(k.jsx)(S,{data:t.tags||[]})}),Object(k.jsxs)("div",{className:"create-date",children:["\u521b\u5efa\u65f6\u95f4\uff1a",F(t.createDate)]}),Object(k.jsxs)("div",{className:"update-date",children:["\u6700\u8fd1\u66f4\u65b0\uff1a",F(t.updateDate)]}),Object(k.jsxs)("div",{className:"btns-box",children:[Object(k.jsxs)("div",{className:"operate-btns",children:[Object(k.jsx)("div",{className:"btn main-btn ".concat(![0,4].includes(t.defaulterIdentityType)&&"disabled"),onClick:()=>a.switchPage("/reader?id=".concat(t.exhibitId)),children:"\u7acb\u5373\u9605\u8bfb"}),Object(k.jsx)("div",{className:"btn ".concat(c?"warning-btn":"collect-btn"),onClick:()=>s(t),children:c?"\u79fb\u51fa\u4e66\u67b6":"\u52a0\u5165\u4e66\u67b6"})]}),Object(k.jsxs)("div",{className:"other-btns",children:[Object(k.jsxs)("div",{className:"sign-count",children:[t.signCount,"\u4eba\u7b7e\u7ea6"]}),Object(k.jsxs)("div",{className:"share-btn",onMouseOver:e=>{e.stopPropagation(),m("show",!0)},children:[Object(k.jsxs)("span",{className:"share-btn-text",children:[Object(k.jsx)("i",{className:"freelog fl-icon-fenxiang"}),"\u5206\u4eab\u7ed9\u66f4\u591a\u4eba"]}),Object(k.jsx)("div",{id:"share",className:"share-wrapper"})]})]})]})]})]}),Object(k.jsxs)("div",{className:"novel-intro",children:[Object(k.jsx)("div",{className:"intro-title",children:"\u5185\u5bb9\u7b80\u4ecb"}),t.exhibitIntro?Object(k.jsxs)("div",{className:"intro ".concat(1===o?"fold":"unfold"),children:[Object(k.jsx)("div",{className:"intro-content",ref:n,children:t.exhibitIntro}),1===o&&Object(k.jsx)("div",{className:"view-all-btn",onClick:()=>r(3),children:"...\u67e5\u770b\u5168\u90e8"})]}):Object(k.jsx)("div",{className:"no-intro-tip",children:"\u6682\u65e0\u7b80\u4ecb"})]})]})})};c(44);var J="data:image/png;base64,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",K=c.p+"static/media/reader-bg.ff48362f.png";c(45);const Z=e=>{const{scrollTop:t,scrollToTop:c}=C(),{children:s,onClick:a}=e;return Object(k.jsx)(y.a,{in:t>300,classNames:"fade",timeout:500,unmountOnExit:!0,onClick:()=>(a&&a(),void c()),children:s})},z=n.a.createContext({}),X=()=>{const e=w(),{userData:t}=Object(i.useContext)(ee),{inMobile:c,book:s,id:a,theme:n,mountMarkdownWidget:l,loading:o,setLoading:r}=Object(i.useContext)(z),[d,b]=Object(i.useState)(""),[h,m]=Object(i.useState)(null),A=Object(i.useCallback)((async()=>{let e;const t=await u(a);if(t.data.data&&(e=t.data.data[0].defaulterIdentityType),m(e),0===e){const e=await(c=a,j.freelogApp.getExhibitFileStream(c));if(!e)return void r(!1);b(e.data)}else 4===e&&g();var c;r(!1)}),[a]),g=async()=>{const e=await(t=a,j.freelogApp.addAuth(t,{immediate:!0}));var t;const{status:c}=e;0===c&&A()};return Object(i.useEffect)((()=>{A()}),[a]),Object(i.useEffect)((()=>{s&&d&&(r(!1),l(s,d))}),[s,d]),o?Object(k.jsx)(H,{}):!0===c?Object(k.jsxs)("div",{className:"mobile-body-wrapper ".concat(1===(null===n||void 0===n?void 0:n.type)?"dark":"light"),style:{backgroundImage:"url(".concat(K,")"),backgroundColor:null===n||void 0===n?void 0:n.bookColor},children:[0===h&&Object(k.jsx)("div",{id:"markdown"}),[null,0,4].includes(h)?!h||4!==h&&!1!==(null===t||void 0===t?void 0:t.isLogin)?null:Object(k.jsxs)("div",{className:"lock-box",children:[Object(k.jsx)("img",{className:"lock",src:J,alt:"\u672a\u6388\u6743"}),Object(k.jsx)("div",{className:"lock-tip",children:"\u5c55\u54c1\u672a\u5f00\u653e\u6388\u6743\uff0c\u7ee7\u7eed\u6d4f\u89c8\u8bf7\u7b7e\u7ea6\u5e76\u83b7\u53d6\u6388\u6743"}),Object(k.jsx)("div",{className:"get-btn",onClick:()=>g(),children:"\u83b7\u5f97\u6388\u6743"})]}):Object(k.jsxs)("div",{className:"auth-box",children:[Object(k.jsx)("img",{className:"auth-link-abnormal",src:B,alt:"\u6388\u6743\u94fe\u5f02\u5e38"}),Object(k.jsx)("div",{className:"auth-link-tip",children:"\u6388\u6743\u94fe\u5f02\u5e38\uff0c\u65e0\u6cd5\u67e5\u770b"}),Object(k.jsx)("div",{className:"home-btn",onClick:()=>e.switchPage("/home"),children:"\u8fdb\u5165\u9996\u9875"})]})]}):!1===c?Object(k.jsxs)("div",{className:"body-wrapper",children:[Object(k.jsx)("div",{className:"breadcrumbs-wrapper",children:Object(k.jsx)("div",{className:"breadcrumbs-item",children:Object(k.jsx)("div",{className:"second-text-btn",onClick:()=>e.switchPage("/detail?id=".concat(a)),children:null===s||void 0===s?void 0:s.exhibitTitle})})}),Object(k.jsxs)("div",{className:"content ".concat(1===(null===n||void 0===n?void 0:n.type)?"dark":"light"),style:{backgroundImage:"url(".concat(K,")"),backgroundColor:null===n||void 0===n?void 0:n.bookColor},children:[0===h&&Object(k.jsx)("div",{id:"markdown"}),[null,0,4].includes(h)?!h||4!==h&&!1!==(null===t||void 0===t?void 0:t.isLogin)?null:Object(k.jsxs)("div",{className:"lock-box",children:[Object(k.jsx)("img",{className:"lock",src:J,alt:"\u672a\u6388\u6743"}),Object(k.jsx)("div",{className:"lock-tip",children:"\u5c55\u54c1\u672a\u5f00\u653e\u6388\u6743\uff0c\u7ee7\u7eed\u6d4f\u89c8\u8bf7\u7b7e\u7ea6\u5e76\u83b7\u53d6\u6388\u6743"}),Object(k.jsx)("div",{className:"get-btn",onClick:()=>g(),children:"\u83b7\u5f97\u6388\u6743"})]}):Object(k.jsxs)("div",{className:"auth-box",children:[Object(k.jsx)("img",{className:"auth-link-abnormal",src:B,alt:"\u6388\u6743\u94fe\u5f02\u5e38"}),Object(k.jsx)("div",{className:"auth-link-tip",children:"\u6388\u6743\u94fe\u5f02\u5e38\uff0c\u65e0\u6cd5\u67e5\u770b"}),Object(k.jsx)("div",{className:"home-btn",onClick:()=>e.switchPage("/home"),children:"\u8fdb\u5165\u9996\u9875"})]})]})]}):Object(k.jsx)(k.Fragment,{})},Y=()=>{const{scrollTop:e}=C(),{inMobile:t,book:c,fontSize:s,setFontSize:a,theme:n,setTheme:l,fontSizePopupShow:o,setFontSizePopupShow:r,themePopupShow:d,setThemePopupShow:b,mobileBarShow:j,setMobileBarShow:h,mountShareWidget:m,setWidgetData:u}=Object(i.useContext)(z),{isCollected:A,operateShelf:g}=f(null===c||void 0===c?void 0:c.exhibitId),[O,x]=Object(i.useState)("");let p=Object(i.useRef)(!1),N=Object(i.useRef)(null);const w=e=>{p.current=!0,clearTimeout(N.current),N.current=null;let t=s;if(0===e){if(14===t)return;t--}else{if(36===t)return;t++}a(t),localStorage.setItem("fontSize",t),N.current=setTimeout((()=>{p.current=!1,clearTimeout(N.current),N.current=null}),500)},E=()=>{u("share","show",!1),r(!1),b(!1)};return Object(i.useEffect)((()=>{c&&m()}),[c]),Object(i.useEffect)((()=>{x(window.location.currentURL)}),[]),Object(i.useEffect)((()=>{p.current||(u("share","show",!1),o&&r(!1),d&&b(!1),0!==e||j||h(!0),0!==e&&j&&h(!1))}),[e]),Object(i.useEffect)((()=>{document.body.style.overflowY=(o||d)&&t?"hidden":"auto"}),[o,d,t]),t?Object(k.jsx)(y.a,{in:j,classNames:"slide-down",timeout:150,unmountOnExit:!0,children:Object(k.jsxs)("div",{className:"mobile-operater-wrapper",children:[A?Object(k.jsxs)("div",{className:"operater-btn",onClick:()=>{E(),g(c)},children:[Object(k.jsx)("i",{className:"freelog fl-icon-shoucangxiaoshuoyishoucang"}),Object(k.jsx)("div",{className:"operater-btn-label",children:"\u79fb\u51fa\u4e66\u67b6"})]}):Object(k.jsxs)("div",{className:"operater-btn",onClick:()=>{E(),g(c)},children:[Object(k.jsx)("i",{className:"freelog fl-icon-shoucangxiaoshuo"}),Object(k.jsx)("div",{className:"operater-btn-label",children:"\u52a0\u5165\u4e66\u67b6"})]}),Object(k.jsxs)("div",{className:"operater-btn",onClick:()=>{E(),document.getElementById("href").select(),document.execCommand("Copy"),v("\u94fe\u63a5\u590d\u5236\u6210\u529f\uff5e")},children:[Object(k.jsx)("i",{className:"freelog fl-icon-fenxiang"}),Object(k.jsx)("div",{className:"operater-btn-label",children:"\u5206\u4eab"})]}),Object(k.jsxs)("div",{className:"operater-btn",onClick:()=>{E(),r(!0)},children:[Object(k.jsx)("div",{className:"freelog",children:"A"}),Object(k.jsx)("div",{className:"operater-btn-label",children:"\u5b57\u53f7"})]}),Object(k.jsxs)("div",{className:"operater-btn",onClick:()=>{E(),b(!0)},children:[Object(k.jsx)("i",{className:"freelog fl-icon-beijingyanse"}),Object(k.jsx)("div",{className:"operater-btn-label",children:"\u80cc\u666f\u8272"})]}),o&&Object(k.jsx)("div",{className:"operater-popup",onClick:()=>r(!1),children:Object(k.jsxs)("div",{className:"fontsize-popup",onClick:e=>e.stopPropagation(),children:[Object(k.jsx)("div",{className:"fontsize-label",onClick:()=>w(0),children:"A-"}),Object(k.jsx)("div",{className:"fontsize-value",children:s}),Object(k.jsx)("div",{className:"fontsize-label",onClick:()=>w(1),children:"A+"})]})}),d&&Object(k.jsx)("div",{className:"operater-popup",onClick:()=>b(!1),children:Object(k.jsx)("div",{className:"theme-popup",onClick:e=>e.stopPropagation(),children:D.map((e=>Object(k.jsx)("div",{className:"theme-btn ".concat(n.bookColor===e.bookColor&&"active"),style:{backgroundColor:e.bookColor},onClick:()=>{l(e),localStorage.setItem("theme",JSON.stringify(e))},children:Object(k.jsx)("i",{className:"freelog fl-icon-xuanzhong"})},e.bookColor)))})}),Object(k.jsx)("input",{id:"href",className:"hidden-input",value:O,readOnly:!0})]})}):Object(k.jsx)("div",{className:"operater-wrapper",children:Object(k.jsxs)("div",{className:"operater-btns-box",children:[A?Object(k.jsx)(_,{icon:"fl-icon-shoucangxiaoshuoyishoucang",onClick:()=>{E(),g(c)}}):Object(k.jsx)(_,{icon:"fl-icon-shoucangxiaoshuo",onClick:()=>{E(),g(c)}}),Object(k.jsx)(_,{icon:"fl-icon-fenxiang",onClick:()=>{E(),setTimeout((()=>{u("share","show",!0)}),0)},slot:Object(k.jsx)("div",{id:"share",className:"share-wrapper"})}),Object(k.jsx)(_,{text:"A",onClick:()=>{E(),r(!0)},slot:Object(k.jsxs)("div",{className:"operater-popup ".concat(1===(null===n||void 0===n?void 0:n.type)?"dark":"light"),style:{width:o?"162px":"0"},children:[Object(k.jsx)("div",{className:"fontsize-label",onClick:()=>w(0),children:"A-"}),Object(k.jsx)("div",{className:"fontsize-value",children:s}),Object(k.jsx)("div",{className:"fontsize-label",onClick:()=>w(1),children:"A+"})]})}),Object(k.jsx)(_,{icon:"fl-icon-beijingyanse",onClick:()=>{E(),b(!0)},slot:Object(k.jsx)("div",{className:"operater-popup",style:{width:d?"228px":"0"},children:D.map((e=>Object(k.jsx)("div",{className:"theme-btn ".concat(n.bookColor===e.bookColor&&"active"),style:{backgroundColor:e.bookColor},onClick:()=>{l(e),localStorage.setItem("theme",JSON.stringify(e))},children:Object(k.jsx)("i",{className:"freelog fl-icon-xuanzhong"})},e.bookColor)))})}),Object(k.jsx)(Z,{onClick:()=>E(),children:Object(k.jsx)(_,{icon:"fl-icon-huidaodingbu"})})]})})},_=e=>{const{icon:t,text:c,slot:s,onClick:a}=e,{theme:n}=Object(i.useContext)(z);return Object(k.jsxs)("div",{className:"operate-btn-wrapper ".concat(1===(null===n||void 0===n?void 0:n.type)?"dark":"light"),style:{backgroundColor:null===n||void 0===n?void 0:n.bookColor},onClick:e=>e.stopPropagation(),children:[s,t&&Object(k.jsx)("i",{className:"freelog ".concat(t),onClick:a}),c&&Object(k.jsx)("span",{className:"freelog",onClick:a,children:c})]})},$=[{name:"home",path:"/home",component:e=>{const{tags:t,keywords:c}=V(e.location.search),{inMobile:s}=Object(i.useContext)(ee),{scrollTop:a,clientHeight:n,scrollHeight:l}=C(),[o,r]=Object(i.useState)([]),[d,b]=Object(i.useState)(null),[h,m]=Object(i.useState)(!1),[A,g]=Object(i.useState)(!1),[O,x]=Object(i.useState)(!1);let p=Object(i.useRef)(0);const v=Object(i.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(O)return;if(m(!!c),d===o.length&&!e)return;e&&g(!0),x(!0),p.current=e?0:p.current+30;const s={articleResourceTypes:"\u6587\u7ae0",skip:p.current,limit:30};t&&(s.tags=t),c&&(s.keywords=c);const a=await(i=s,j.freelogApp.getExhibitListByPaging(i));var i;const{dataList:n,totalItem:l}=a.data.data;if(0!==n.length){const e=n.map((e=>e.exhibitId)).join(),t=await u(e);t.data.data&&n.forEach((e=>{const c=t.data.data.findIndex((t=>t.exhibitId===e.exhibitId));-1!==c&&(e.defaulterIdentityType=t.data.data[c].defaulterIdentityType)}))}r((t=>e?n:[...t,...n])),b(l),e&&g(!1),x(!1)}),[o.length,d,t,c]);return Object(i.useEffect)((()=>{v(!0)}),[t,c]),Object(i.useEffect)((()=>{a+n===l&&v()}),[a,n,l]),Object(k.jsxs)("div",{className:"home-wrapper",children:[Object(k.jsx)(E,{homeHeader:!h,mobileSearching:s&&h||!1,defaultSearchKey:c}),Object(k.jsx)(L,{novelList:o,searching:h,total:d,tags:t,keywords:c,loading:A,myloading:O}),Object(k.jsx)(U,{}),Object(k.jsx)(T,{}),Object(k.jsx)(Q,{})]})}},{name:"shelf",path:"/shelf",component:()=>{const{inMobile:e}=Object(i.useContext)(ee),{myShelf:t,operateShelf:c}=f();return Object(k.jsxs)("div",{className:"shelf-wrapper ".concat(e?"in-mobile":"in-pc"),children:[Object(k.jsx)(E,{}),Object(k.jsx)(q,{shelfList:t,operateShelf:c}),Object(k.jsx)(U,{}),Object(k.jsx)(T,{}),Object(k.jsx)(Q,{})]})}},{name:"signedList",path:"/signedList",component:()=>{const{inMobile:e}=Object(i.useContext)(ee);return Object(k.jsxs)("div",{className:"signed-list-wrapper ".concat(e?"in-mobile":"in-pc"),children:[Object(k.jsx)(E,{}),Object(k.jsx)(W,{}),Object(k.jsx)(U,{}),Object(k.jsx)(T,{}),Object(k.jsx)(Q,{})]})}},{name:"detail",path:"/detail",component:e=>{const{id:t}=V(e.location.search),[c,s]=Object(i.useState)(null),a=Object(i.useCallback)((async()=>{const[e,c,a]=await Promise.all([m(t,{isLoadVersionProperty:1}),(i=t,j.freelogApp.getExhibitSignCount(i)),u(t)]);var i;const n={...e.data.data,signCount:c.data.data[0].count,defaulterIdentityType:a.data.data[0].defaulterIdentityType};s(n)}),[t]);return Object(i.useEffect)((()=>{document.documentElement.scroll({top:0}),document.body.scroll({top:0}),a()}),[]),Object(k.jsx)(G.Provider,{value:{novel:c},children:Object(k.jsxs)("div",{className:"detail-wrapper",children:[Object(k.jsx)(E,{}),Object(k.jsx)(M,{}),Object(k.jsx)(U,{}),Object(k.jsx)(T,{}),Object(k.jsx)(Q,{})]})})}},{name:"reader",path:"/reader",component:e=>{const{id:t}=V(e.location.search),{inMobile:c}=Object(i.useContext)(ee),s=JSON.parse(localStorage.getItem("theme")||"null"),[a,n]=Object(i.useState)(null),[l,o]=Object(i.useState)(22),[r,d]=Object(i.useState)(s||D[0]),[b,j]=Object(i.useState)(!1),[h,u]=Object(i.useState)(!1),[A,g]=Object(i.useState)(!0),[p,v]=Object(i.useState)(!0),f=Object(i.useRef)({}),N=Object(i.useCallback)((async()=>{v(!0);const e=await m(t,{isLoadVersionProperty:1});n(e.data.data)}),[t]),C=(e,t,c)=>{f.current[e]&&f.current[e].getApi().setData&&f.current[e].getApi().setData(t,c)};Object(i.useEffect)((()=>()=>{!async function(){for(const e in f.current);}()}),[]),Object(i.useEffect)((()=>{N()}),[t]),Object(i.useEffect)((()=>{C("markdown","fontSize",l)}),[l]);const w={id:t,inMobile:c,book:a,setBook:n,fontSize:l,setFontSize:o,theme:r,setTheme:d,fontSizePopupShow:b,setFontSizePopupShow:j,themePopupShow:h,setThemePopupShow:u,mobileBarShow:A,setMobileBarShow:g,loading:p,setLoading:v,mountShareWidget:async()=>{if(c)return;f.current.share&&await f.current.share.unmount();const e=await O(),t=e.subDep.find((e=>"Nodeconsumer/\u5206\u4eab\u63d2\u4ef6"===e.name));t&&(f.current.share=await x({widget:t,container:document.getElementById("share"),topExhibitData:e,config:{exhibit:a,type:"\u5c0f\u8bf4"},widget_entry:"https://localhost:8200"}))},mountMarkdownWidget:async(e,t)=>{const c=await O(),s=c.subDep.find((e=>"Nodeconsumer/\u6587\u6863\u63d2\u4ef6"===e.name));if(!s)return;const a=Number(localStorage.getItem("fontSize"))||22;o(a),f.current.markdown=await x({widget:s,container:document.getElementById("markdown"),topExhibitData:c,config:{exhibitInfo:e,content:t,fontSize:a},widget_entry:"https://localhost:8201"})},setWidgetData:C};return Object(k.jsx)(z.Provider,{value:w,children:Object(k.jsxs)("div",{className:"reader-wrapper ".concat(c&&"in-mobile"),style:{backgroundImage:"url(".concat(K,")"),backgroundColor:null===r||void 0===r?void 0:r.bgColor},onClick:()=>(C("share","show",!1),b&&j(!1),h&&u(!1),void(c&&g(!0))),children:[Object(k.jsx)(y.a,{in:c&&A||!c,classNames:"slide-up",timeout:150,unmountOnExit:!0,children:Object(k.jsx)(E,{readerHeader:!0})}),Object(k.jsx)(X,{}),Object(k.jsx)(Y,{})]})})}}],ee=n.a.createContext({inMobile:null,userData:null,selfConfig:{},theme:{gradientColor:"",deriveColor:""},locationHistory:[]});var te=()=>{const[e,t]=Object(i.useState)(null),[c,s]=Object(i.useState)(null),[a,n]=Object(i.useState)({}),[r,d]=Object(i.useState)({gradientColor:"",deriveColor:""}),[b]=Object(i.useState)([]),h=async()=>{const e=await j.freelogApp.getCurrentUser(),c=await j.freelogApp.getSelfConfig(),a=P[c.theme];s(e?Object.assign(e,{isLogin:!0}):{isLogin:!1}),n(c),t((()=>{let e=!!navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);e||Math.min(document.body.clientWidth,document.body.clientHeight)<=500&&(e=!0);return e})()),d(a);const i=document.getElementById("root");null===i||void 0===i||i.setAttribute("style","--gradientColor: ".concat(a.gradientColor,"; --deriveColor: ").concat(a.deriveColor))};return console.log(88888),Object(i.useEffect)((()=>{console.log(234234234),h()}),[]),Object(k.jsx)(ee.Provider,{value:{inMobile:e,userData:c,selfConfig:a,theme:r,locationHistory:b},children:Object(k.jsx)(l.a,{children:Object(k.jsxs)(o.d,{children:[Object(k.jsx)(o.b,{path:"/",exact:!0,render:()=>Object(k.jsx)(o.a,{to:"/home"})}),$.map((e=>Object(k.jsx)(o.b,{path:e.path,component:e.component},e.name))),Object(k.jsx)(o.b,{path:"*",exact:!0,render:()=>Object(k.jsx)(o.a,{to:"/home"})})]})})})};window.FREELOG_RESOURCENAME="ZhuC/novel-theme",b.freelogApp.onLogin((()=>{b.freelogApp.reload()})),window.__POWERED_BY_WUJIE__?(window.__WUJIE_MOUNT=()=>{a.a.render(Object(k.jsx)(te,{}),document.getElementById("root"))},window.__WUJIE_UNMOUNT=()=>{a.a.unmountComponentAtNode(document.getElementById("root"))}):a.a.render(Object(k.jsx)(te,{}),document.getElementById("root"))}},[[46,1,2]]])}));
//# sourceMappingURL=main.fba13024.chunk.js.map