{"version":3,"sources":["../webpack/universalModuleDefinition","assets/images/logo.png","assets/images/default-avatar.png","api/freelog.ts","components/toast/toast.tsx","utils/hooks.ts","components/header/header.tsx","assets/images/arrow.png","assets/images/menu.png","assets/images/auth-link-abnormal.png","components/tags/tags.tsx","components/novel/novel.tsx","assets/images/mini-lock.png","api/data.ts","components/theme-entrance/theme-entrance.tsx","components/footer/footer.tsx","components/login-btn/login-btn.tsx","components/loader/loader.tsx","utils/common.ts","screens/home/home.tsx","screens/shelf/shelf.tsx","screens/signed-list/signed-list.tsx","screens/detail/detail.tsx","assets/images/lock.png","assets/images/reader-bg.png","components/back-top/back-top.tsx","screens/reader/reader.tsx","router/index.tsx","index.js"],"names":["root","factory","exports","module","define","amd","this","window","freelogApp","MyWindow","getExhibitListById","query","getExhibitInfo","id","arguments","length","undefined","getExhibitAuthStatus","exhibitIds","callLogin","callLoginOut","getSubDep","mountWidget","timeout","showToast","msg","toast","document","getElementById","body","removeChild","clearTimeout","div","createElement","className","innerHTML","appendChild","setTimeout","useMyShelf","userData","useContext","globalContext","shelfIds","setShelfIds","useState","myShelf","setMyShelf","isCollected","setIsCollected","getMyShelf","async","isLogin","ids","key","getUserData","join","list","statusList","Promise","all","forEach","book","data","find","item","exhibitId","statusItem","defaulterIdentityType","ifExistInShelf","includes","useEffect","operateShelf","isThisCollected","exhibit","index","findIndex","splice","push","setUserData","useMySignedList","mySignedList","setMySignedList","getMySignedList","keywords","getSignStatistics","map","subjectId","status","filter","articleInfo","resourceType","useMyScroll","app","scrollTop","setScrollTop","clientHeight","setClientHeight","scrollHeight","setScrollHeight","scroll","useCallback","addEventListener","removeEventListener","scrollToTop","top","behavior","useMyHistory","history","useHistory","switchPage","path","console","log","back","goBack","pathname","location","Header","props","locationHistory","useMyLocationHistory","action","pop","inMobile","selfConfig","searchHistory","searchWord","deleteWord","clearHistory","useSearchHistory","setSearchHistory","getSearchHistory","json","localStorage","getItem","JSON","parse","trim","unshift","setItem","stringify","searchKey","setSearchKey","search","setSearch","userBoxShow","setUserBoxShow","searchPopupShow","setSearchPopupShow","mySearchHistory","setMySearchHistory","searchHistoryShow","setSearchHistoryShow","searchWordCatch","setSearchWordCatch","searchList","url","concat","ifCloseHistoryPopup","e","searchInput","searchHistoryPopup","clickInput","contains","target","clickPopup","focus","style","overflowY","defaultSearchKey","mobileSearching","_jsxs","children","_jsx","value","maxLength","onChange","onKeyUp","keyCode","pre","onClick","src","logoImage","MyLogo","alt","keycode","inputKeyUp","onFocus","CSSTransition","in","classNames","unmountOnExit","onMouseMove","onMouseLeave","stopPropagation","onMouseOver","headImage","username","open","_Fragment","homeHeader","referrerPolicy","readerHeader","DefaultAvatar","startsWith","autoFocus","Tags","tag","title","Novel","mode","deleteBook","useRef","toPath","coverImages","exhibitTitle","onlineStatus","AuthLinkAbnormal","articleOwnerName","tags","current","themeList","酷黑","gradientColor","deriveColor","炫丽","活力","灰度","蜜桃","清新","沉静","readerThemeList","bookColor","bgColor","type","freelogEntrances","label","ThemeEntrance","themeEntrance","theme","entranceShow","boxShadow","Footer","_","entrancesIndex","LoginBtn","Loader","formatDate","time","format","date","Date","year","String","getFullYear","month","getMonth","padStart","day","getDate","hour","getHours","minutes","getMinutes","seconds","getSeconds","replace","getUrlParams","str","decodeURIComponent","result","split","HomeBody","_selfConfig$tags","novelList","searching","total","loading","myloading","tagsList","filterBoxShow","setFilterBoxShow","selectTag","ShelfBody","shelfList","SignedListBody","placeholder","detailContext","React","createContext","DetailBody","novel","introContent","shareWidget","introState","setIntroState","href","setHref","share","select","execCommand","taskConfigCode","meta","presentableId","pushMessage4Task","setWidgetData","getApi","setData","currentURL","_introContent$current","themeData","widget","subDep","name","container","topExhibitData","config","widget_entry","mountShareWidget","signCount","readOnly","createDate","updateDate","exhibitIntro","ref","BackTop","readerContext","ReaderBody","mountMarkdownWidget","setLoading","content","setContent","setDefaulterIdentityType","getContent","authErrType","statusInfo","info","getExhibitFileStream","getAuth","authResult","addAuth","immediate","backgroundImage","BgImage","backgroundColor","Lock","OperaterBtns","fontSize","setFontSize","setTheme","fontSizePopupShow","setFontSizePopupShow","themePopupShow","setThemePopupShow","mobileBarShow","setMobileBarShow","changingFontSize","changingFontSizeTimer","changeFontSize","closeAllPopup","OperateBtn","icon","slot","text","width","routeList","component","setNovelList","setTotal","setSearching","setMyloading","skip","getNovelList","init","queryParams","articleResourceTypes","limit","getExhibitListByPaging","dataList","totalItem","resultItem","ShelfScreen","SignedListScreen","setNovel","getNovelInfo","exhibitInfo","signCountData","isLoadVersionProperty","getExhibitSignCount","bookInfo","count","documentElement","Provider","myTheme","setBook","widgetList","context","unmount","myFontSize","Number","markdown","RouterView","setInMobile","setSelfConfig","initGlobalData","getCurrentUser","getSelfConfig","Object","assign","judgeDevice","navigator","userAgent","match","Math","min","clientWidth","setAttribute","BrowserRouter","Switch","Route","exact","render","Redirect","to","route","FREELOG_RESOURCENAME","onLogin","reload","__POWERED_BY_WUJIE__","__WUJIE_MOUNT","ReactDOM","__WUJIE_UNMOUNT","unmountComponentAtNode"],"mappings":"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","file":"static/js/main.2558c9c7.chunk.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"novel-theme-main\"] = factory();\n\telse\n\t\troot[\"novel-theme-main\"] = factory();\n})(this, function() {\nreturn ","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/default-avatar.4ee52d2d.png\";","import { freelogApp } from \"freelog-runtime\"\r\n// @ts-ignore\r\nwindow.freelogApp = freelogApp\r\nconst MyWindow: any = window;\r\n\r\n/** 获取展品列表请求参数 */\r\nexport interface GetExhibitListByPagingParams {\r\n  skip: number; // 从第几个开始\r\n  limit: number; // 取多少个\r\n  articleResourceTypes?: string; // 资源类型\r\n  tags?: string; // 展品和资源标签，多个使用\",\"隔开\r\n  keywords?: string; // 搜索关键字\r\n}\r\n\r\n/** 搜索展品请求参数 */\r\nexport interface GetExhibitListByIdParams {\r\n  exhibitIds: string; // 展品id，多个使用\",\"隔开\r\n  isLoadVersionProperty?: 0 | 1; // 是否加载版本信息\r\n}\r\n\r\n/** 获取展品信息请求参数 */\r\nexport interface GetExhibitInfoParams {\r\n  isLoadVersionProperty?: 0 | 1; // 是否需要展品版本属性\r\n}\r\n\r\n/** 获取签约展品列表请求参数 */\r\nexport interface GetSignStatisticsParams {\r\n  keywords: string; // 搜索关键词\r\n}\r\n\r\n/** 加载子插件参数 */\r\nexport interface MountWidgetParams {\r\n  widget: any; // 插件数据\r\n  container: any; // 挂载容器\r\n  topExhibitData: any; // 主题展品数据\r\n  config?: any; // 配置数据\r\n  widget_entry?: string; // 插件本地运行 url\r\n}\r\n\r\n/**\r\n * 获取展品列表\r\n * @param query GetExhibitListByPagingParams\r\n */\r\nexport const getExhibitListByPaging = (query: GetExhibitListByPagingParams) => {\r\n  return MyWindow.freelogApp.getExhibitListByPaging(query);\r\n};\r\n\r\n/**\r\n * 搜索展品\r\n * @param query GetExhibitListByIdParams\r\n */\r\nexport const getExhibitListById = (query: GetExhibitListByIdParams) => {\r\n  return MyWindow.freelogApp.getExhibitListById(query);\r\n};\r\n\r\n/**\r\n * 获取展品信息\r\n * @param id 展品id\r\n * @param query GetExhibitInfoParams\r\n */\r\nexport const getExhibitInfo = (id: string, query: GetExhibitInfoParams = {}) => {\r\n  return MyWindow.freelogApp.getExhibitInfo(id, query);\r\n};\r\n\r\n/**\r\n * 获取签约展品列表\r\n * @param query GetSignStatisticsParams\r\n */\r\nexport const getSignStatistics = (query: GetSignStatisticsParams) => {\r\n  return MyWindow.freelogApp.getSignStatistics(query);\r\n};\r\n\r\n/**\r\n * 获取展品签约数\r\n * @param ids 展品id（用英文逗号隔开）\r\n */\r\nexport const getExhibitSignCount = (ids: string) => {\r\n  return MyWindow.freelogApp.getExhibitSignCount(ids);\r\n};\r\n\r\n/**\r\n * 获取展品资源文件流\r\n * @param exhibitId 展品id\r\n */\r\nexport const getExhibitFileStream = (exhibitId: string) => {\r\n  return MyWindow.freelogApp.getExhibitFileStream(exhibitId);\r\n};\r\n\r\n/**\r\n * 获取展品子依赖\r\n * @param exhibitId 展品id\r\n * @param parentNid 链路id\r\n * @param subArticleIdOrName 子依赖资源id或名称\r\n * @param returnUrl 是否只返回url， 例如img标签图片只需要url\r\n */\r\nexport const getExhibitDepFileStream = (\r\n  exhibitId: string | number,\r\n  parentNid: string,\r\n  subArticleIdOrName: string,\r\n  returnUrl?: boolean\r\n) => {\r\n  return MyWindow.freelogApp.getExhibitDepFileStream(exhibitId, parentNid, subArticleIdOrName, returnUrl);\r\n};\r\n\r\n/**\r\n * 查询展品授权状态\r\n * @param exhibitIds 展品id\r\n */\r\nexport const getExhibitAuthStatus = (exhibitIds: string) => {\r\n  return MyWindow.freelogApp.getExhibitAuthStatus(exhibitIds);\r\n};\r\n\r\n/**\r\n * 唤起授权弹窗\r\n * @param exhibitId 展品id\r\n */\r\nexport const addAuth = (exhibitId: string) => {\r\n  return MyWindow.freelogApp.addAuth(exhibitId, { immediate: true });\r\n};\r\n\r\n/** 获取当前登录的用户信息 */\r\nexport const getCurrentUser = () => {\r\n  return MyWindow.freelogApp.getCurrentUser();\r\n};\r\n\r\n/** 获取用户存储数据 */\r\nexport const getUserData = (key: string) => {\r\n  return MyWindow.freelogApp.getUserData(key);\r\n};\r\n\r\n/** 更新用户存储数据 */\r\nexport const setUserData = (key: string, data: any) => {\r\n  return MyWindow.freelogApp.setUserData(key, data);\r\n};\r\n\r\n/** 唤起登录弹窗 */\r\nexport const callLogin = () => {\r\n  return MyWindow.freelogApp.callLogin();\r\n};\r\n\r\n/** 唤起登出弹窗 */\r\nexport const callLoginOut = () => {\r\n  return MyWindow.freelogApp.callLoginOut();\r\n};\r\n\r\n/** 获取主题自定义选项配置 */\r\nexport const getSelfConfig = () => {\r\n  return MyWindow.freelogApp.getSelfConfig();\r\n};\r\n\r\n/** 获取节点主题展品数据 */\r\nexport const getSubDep = () => {\r\n  return MyWindow.freelogApp.getSubDep();\r\n};\r\n\r\n/**\r\n * 加载子插件\r\n * @param query MountWidgetParams\r\n */\r\nexport const mountWidget = (query: MountWidgetParams) => {\r\n  return MyWindow.freelogApp.mountWidget(query);\r\n};\r\n\r\n/** 获取节点主题展品数据 */\r\nexport const getCurrentUrl = () => {\r\n  return MyWindow.location.currentURL;\r\n};\r\n\r\n/** 推送任务消息埋点 */\r\nexport const pushMessage4Task = (data: { taskConfigCode: string; meta?: any }) => {\r\n  return MyWindow.freelogApp.pushMessage4Task(data);\r\n};\r\n","import \"./toast.scss\";\r\n\r\nlet timeout: NodeJS.Timeout | null = null;\r\n\r\n/** 轻提示 */\r\nexport const showToast = (msg: string) => {\r\n  const toast = document.getElementById(\"toast-wrapper\");\r\n  if (toast) document.body.removeChild(toast);\r\n  if (timeout) clearTimeout(timeout);\r\n\r\n  const div = document.createElement(\"div\");\r\n  div.className = \"toast-wrapper\";\r\n  div.id = \"toast-wrapper\";\r\n  div.innerHTML = msg;\r\n  document.body.appendChild(div);\r\n\r\n  timeout = setTimeout(() => {\r\n    document.body.removeChild(div);\r\n  }, 2000);\r\n};\r\n","import { useState, useEffect, useCallback, useContext } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport {\r\n  getUserData,\r\n  getExhibitListById,\r\n  setUserData,\r\n  getExhibitAuthStatus,\r\n  callLogin,\r\n  getSignStatistics,\r\n} from \"../api/freelog\";\r\nimport { showToast } from \"../components/toast/toast\";\r\nimport { globalContext } from \"../router\";\r\nimport { ExhibitItem } from \"../api/interface\";\r\n\r\n/** 书架 hook */\r\nexport const useMyShelf = (id?: string) => {\r\n  const { userData } = useContext(globalContext);\r\n  const [shelfIds, setShelfIds] = useState<string[]>([]);\r\n  const [myShelf, setMyShelf] = useState<ExhibitItem[] | null>(null);\r\n  const [isCollected, setIsCollected] = useState(false);\r\n\r\n  /** 获取书架数据 */\r\n  const getMyShelf = async () => {\r\n    // 用户未登录\r\n    if (!userData?.isLogin) return;\r\n\r\n    const ids = await getUserData(\"shelf\");\r\n    setShelfIds(ids || []);\r\n\r\n    if (!ids || ids.length === 0) {\r\n      setMyShelf([]);\r\n      return;\r\n    }\r\n\r\n    const exhibitIds = ids.join();\r\n    const [list, statusList] = await Promise.all([\r\n      getExhibitListById({ exhibitIds }),\r\n      getExhibitAuthStatus(exhibitIds),\r\n    ]);\r\n    ids.forEach((id: string) => {\r\n      const book = list.data.data.find((item: ExhibitItem) => item.exhibitId === id);\r\n      if (!book) return;\r\n      const statusItem = statusList.data.data.find((item: { exhibitId: string }) => item.exhibitId === id);\r\n      book.defaulterIdentityType = statusItem.defaulterIdentityType;\r\n    });\r\n    setMyShelf(list.data.data);\r\n  };\r\n\r\n  /** 判断当前资源是否已被收藏 */\r\n  const ifExistInShelf = (exhibitId: string) => {\r\n    const isThisCollected = shelfIds.includes(exhibitId);\r\n    return isThisCollected;\r\n  };\r\n\r\n  /** 操作收藏（如未收藏则收藏，反之取消收藏） */\r\n  const operateShelf = async (exhibit: ExhibitItem) => {\r\n    if (!userData?.isLogin) {\r\n      callLogin();\r\n      return;\r\n    }\r\n\r\n    const isThisCollected = ifExistInShelf(exhibit.exhibitId);\r\n\r\n    if (isThisCollected) {\r\n      const index = shelfIds.findIndex((item) => item === exhibit.exhibitId);\r\n      shelfIds.splice(index, 1);\r\n    } else {\r\n      shelfIds.push(exhibit.exhibitId);\r\n    }\r\n    const res = await setUserData(\"shelf\", shelfIds);\r\n    if (res.data.msg === \"success\") {\r\n      showToast(isThisCollected ? `已将书籍从书架中移除～` : `已将书籍加入书架～`);\r\n      getMyShelf();\r\n    } else {\r\n      showToast(\"收藏失败\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getMyShelf();\r\n    // eslint-disable-next-line\r\n  }, [id, userData?.isLogin]);\r\n\r\n  useEffect(() => {\r\n    if (id) setIsCollected(ifExistInShelf(id));\r\n    // eslint-disable-next-line\r\n  }, [id, myShelf]);\r\n\r\n  return { myShelf, isCollected, operateShelf };\r\n};\r\n\r\n/** 签约列表 hook */\r\nexport const useMySignedList = () => {\r\n  interface SignedItem {\r\n    subjectId: string;\r\n  }\r\n\r\n  const { userData } = useContext(globalContext);\r\n  const [mySignedList, setMySignedList] = useState<ExhibitItem[] | null>(null);\r\n\r\n  /** 获取签约展品列表 */\r\n  const getMySignedList = async (keywords = \"\") => {\r\n    // 用户未登录\r\n    if (!userData?.isLogin) return;\r\n\r\n    const signedList = await getSignStatistics({ keywords });\r\n    const ids: string = signedList.data.data.map((item: SignedItem) => item.subjectId).join();\r\n\r\n    if (!ids) {\r\n      setMySignedList([]);\r\n      return;\r\n    }\r\n\r\n    const [list, statusList] = await Promise.all([getExhibitListById({ exhibitIds: ids }), getExhibitAuthStatus(ids)]);\r\n    list.data.data.forEach((item: ExhibitItem) => {\r\n      const statusItem = statusList.data.data.find(\r\n        (status: { exhibitId: string }) => status.exhibitId === item.exhibitId\r\n      );\r\n      item.defaulterIdentityType = statusItem.defaulterIdentityType;\r\n    });\r\n\r\n    setMySignedList(list.data.data.filter((item: ExhibitItem) => !item.articleInfo.resourceType.includes(\"主题\")));\r\n  };\r\n\r\n  useEffect(() => {\r\n    getMySignedList();\r\n    // eslint-disable-next-line\r\n  }, [userData?.isLogin]);\r\n\r\n  return { mySignedList, getMySignedList };\r\n};\r\n\r\n/** 搜索历史 hook */\r\nexport const useSearchHistory = () => {\r\n  const [searchHistory, setSearchHistory] = useState<string[]>([]);\r\n\r\n  /** 获取搜索历史 */\r\n  const getSearchHistory = async () => {\r\n    const json = localStorage.getItem(\"searchHistory\") || \"[]\";\r\n    setSearchHistory(JSON.parse(json));\r\n  };\r\n\r\n  /** 搜索 */\r\n  const searchWord = (keywords = \"\") => {\r\n    keywords = keywords.trim();\r\n    if (!keywords) return;\r\n    const index = searchHistory.findIndex((item) => item === keywords);\r\n    if (index !== -1) searchHistory.splice(index, 1);\r\n    if (searchHistory.length === 10) searchHistory.pop();\r\n    searchHistory.unshift(keywords);\r\n    localStorage.setItem(\"searchHistory\", JSON.stringify(searchHistory));\r\n    getSearchHistory();\r\n  };\r\n\r\n  /** 删除搜索词 */\r\n  const deleteWord = (keywords: string) => {\r\n    const index = searchHistory.findIndex((item) => item === keywords);\r\n    if (index === -1) return;\r\n    searchHistory.splice(index, 1);\r\n    localStorage.setItem(\"searchHistory\", JSON.stringify(searchHistory));\r\n    getSearchHistory();\r\n  };\r\n\r\n  /** 清空搜索词 */\r\n  const clearHistory = () => {\r\n    localStorage.setItem(\"searchHistory\", \"[]\");\r\n    setSearchHistory([]);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getSearchHistory();\r\n  }, []);\r\n\r\n  return { searchHistory, searchWord, deleteWord, clearHistory };\r\n};\r\n\r\n/** 页面滚动 hook */\r\nexport const useMyScroll = () => {\r\n  const app = document.getElementById(\"root\");\r\n  const [scrollTop, setScrollTop] = useState(0);\r\n  const [clientHeight, setClientHeight] = useState(0);\r\n  const [scrollHeight, setScrollHeight] = useState(0);\r\n\r\n  /** 页面滚动 */\r\n  const scroll = useCallback(() => {\r\n    setScrollTop(app?.scrollTop || 0);\r\n    setClientHeight(app?.clientHeight || 0);\r\n    setScrollHeight(app?.scrollHeight || 0);\r\n  }, [setScrollTop, setClientHeight, setScrollHeight, app]);\r\n\r\n  /** 回到顶部 */\r\n  const scrollToTop = () => {\r\n    app?.scroll({ top: 0, behavior: \"smooth\" });\r\n  };\r\n\r\n  useEffect(() => {\r\n    app?.addEventListener(\"scroll\", scroll);\r\n    return () => app?.removeEventListener(\"scroll\", scroll);\r\n  }, [scroll, app]);\r\n\r\n  return {\r\n    scrollTop,\r\n    clientHeight,\r\n    scrollHeight,\r\n    scrollToTop,\r\n  };\r\n};\r\n\r\n/** 路由 hook */\r\nexport const useMyHistory = () => {\r\n  const history = useHistory();\r\n\r\n  /** 跳转页面 */\r\n  const switchPage = (path: string) => {\r\n    console.log(9999,path)\r\n    history.push(path);\r\n  };\r\n\r\n  /** 页面返回 */\r\n  const back = () => {\r\n    history.goBack();\r\n  };\r\n\r\n  return { switchPage, back, pathname: history.location.pathname };\r\n};\r\n\r\n/** 路由历史 hook */\r\nexport const useMyLocationHistory = () => {\r\n  const { locationHistory } = useContext(globalContext);\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    if (!locationHistory.length) {\r\n      locationHistory.push(history.location.pathname);\r\n      return;\r\n    }\r\n\r\n    if (history.action === \"PUSH\") {\r\n      locationHistory.push(history.location.pathname);\r\n    } else if (history.action === \"POP\") {\r\n      locationHistory.pop();\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [history]);\r\n\r\n  return { locationHistory };\r\n};\r\n","import \"./header.scss\";\r\nimport MyLogo from \"../../assets/images/logo.png\";\r\nimport MyMenu from \"../../assets/images/menu.png\";\r\nimport DefaultAvatar from \"../../assets/images/default-avatar.png\";\r\nimport BackArrow from \"../../assets/images/arrow.png\";\r\nimport { useState, useEffect, useCallback, useContext } from \"react\";\r\nimport { useMyHistory, useMyLocationHistory, useSearchHistory } from \"../../utils/hooks\";\r\nimport { callLogin, callLoginOut } from \"../../api/freelog\";\r\nimport { globalContext } from \"../../router\";\r\nimport CSSTransition from \"react-transition-group/CSSTransition\";\r\n\r\n/** 页面头部 */\r\nexport const Header = (props: {\r\n  homeHeader?: boolean;\r\n  readerHeader?: boolean;\r\n  mobileSearching?: boolean;\r\n  defaultSearchKey?: string;\r\n}) => {\r\n  const history = useMyHistory();\r\n  const { locationHistory } = useMyLocationHistory();\r\n  const { inMobile, userData, selfConfig } = useContext(globalContext);\r\n  const { searchHistory, searchWord, deleteWord, clearHistory } = useSearchHistory();\r\n  const [searchKey, setSearchKey] = useState(\"\");\r\n  const [search, setSearch] = useState(0);\r\n  const [userBoxShow, setUserBoxShow] = useState(false);\r\n  const [searchPopupShow, setSearchPopupShow] = useState(false);\r\n  const [mySearchHistory, setMySearchHistory] = useState<string[]>([]);\r\n  const [searchHistoryShow, setSearchHistoryShow] = useState(false);\r\n  const [searchWordCatch, setSearchWordCatch] = useState<number | null>(null);\r\n\r\n  /** 搜索展品列表 */\r\n  const searchList = useCallback(() => {\r\n    let url = `/home`;\r\n    if (searchKey) url += `?keywords=${searchKey}`;\r\n    history.switchPage(url);\r\n  }, [history, searchKey]);\r\n\r\n  /** 搜索快捷键 */\r\n  const inputKeyUp = (keycode: number) => {\r\n    switch (keycode) {\r\n      case 13:\r\n        // 回车\r\n        if (searchWordCatch !== null) setSearchKey(mySearchHistory[searchWordCatch]);\r\n        setSearchWordCatch(null);\r\n        setSearchHistoryShow(false);\r\n        setSearch((pre) => pre + 1);\r\n        break;\r\n      case 27:\r\n        // esc\r\n        setSearchKey(\"\");\r\n        setSearchWordCatch(null);\r\n        setSearchHistoryShow(true);\r\n        break;\r\n      case 38:\r\n        // 上\r\n        if (searchWordCatch === null || searchWordCatch === 0) {\r\n          setSearchWordCatch(null);\r\n        } else {\r\n          setSearchWordCatch(searchWordCatch - 1);\r\n        }\r\n        break;\r\n      case 40:\r\n        // 下\r\n        setSearchHistoryShow(true);\r\n        if (searchWordCatch === null) {\r\n          setSearchWordCatch(0);\r\n        } else if (searchWordCatch !== mySearchHistory.length - 1) {\r\n          setSearchWordCatch(searchWordCatch + 1);\r\n        }\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  /** 根据点击区域判断历史搜索框是否关闭 */\r\n  const ifCloseHistoryPopup = (e: any) => {\r\n    const searchInput = document.getElementById(\"searchInput\");\r\n    const searchHistoryPopup = document.getElementById(\"searchHistoryPopup\");\r\n    if (!searchInput || !searchHistoryPopup) return;\r\n    const clickInput = searchInput.contains(e.target);\r\n    const clickPopup = searchHistoryPopup.contains(e.target);\r\n    if (!clickInput && !clickPopup) {\r\n      setSearchHistoryShow(false);\r\n    } else {\r\n      searchInput.focus();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (search === 0) return;\r\n    searchWord(searchKey);\r\n    searchList();\r\n    // eslint-disable-next-line\r\n  }, [search]);\r\n\r\n  useEffect(() => {\r\n    document.body.style.overflowY = (userBoxShow || searchPopupShow) && inMobile ? \"hidden\" : \"auto\";\r\n  }, [userBoxShow, searchPopupShow, inMobile]);\r\n\r\n  useEffect(() => {\r\n    setMySearchHistory(searchHistory.filter((item) => item.includes(searchKey)));\r\n  }, [searchHistory, searchKey]);\r\n\r\n  useEffect(() => {\r\n    setSearchKey(props.defaultSearchKey || \"\");\r\n  }, [props.defaultSearchKey]);\r\n\r\n  useEffect(() => {\r\n    if (searchHistoryShow) {\r\n      document.addEventListener(\"click\", ifCloseHistoryPopup);\r\n    } else {\r\n      document.removeEventListener(\"click\", ifCloseHistoryPopup);\r\n    }\r\n  }, [searchHistoryShow]);\r\n\r\n  if (inMobile === true && !props.mobileSearching) {\r\n    // 移动端头部\r\n    return (\r\n      <div className={`mobile-header-wrapper ${props.homeHeader && \"in-home\"}`}>\r\n        {/* header顶部 */}\r\n        <div className={`header-top ${userData?.isLogin && \"logon\"}`}>\r\n          {props.homeHeader ? (\r\n            // logo\r\n            <img\r\n              className=\"logo\"\r\n              src={selfConfig.logoImage || MyLogo}\r\n              alt=\"logo\"\r\n              referrerPolicy=\"no-referrer\"\r\n              onClick={() => history.switchPage(\"/home\")}\r\n            />\r\n          ) : (\r\n            <div\r\n              className=\"header-top-left\"\r\n              onClick={() => (locationHistory.length === 1 ? history.switchPage(\"/home\") : history.back())}\r\n            >\r\n              <img className=\"back-arrow\" src={BackArrow} alt=\"\" />\r\n              {locationHistory.length === 1 ? (\r\n                <div className=\"back-label\">首页</div>\r\n              ) : (\r\n                <div className=\"back-label\">返回</div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"header-top-right\">\r\n            {!props.homeHeader && !props.readerHeader && (\r\n              <i className=\"freelog fl-icon-content\" onClick={() => setSearchPopupShow(true)}></i>\r\n            )}\r\n\r\n            <img className=\"menu\" src={MyMenu} alt=\"菜单\" onClick={() => setUserBoxShow(true)} />\r\n          </div>\r\n        </div>\r\n\r\n        {/* 搜索框 */}\r\n        {props.homeHeader && (\r\n          <div className=\"search-box\" onClick={() => setSearchPopupShow(true)}>\r\n            <i className=\"freelog fl-icon-content\"></i>\r\n          </div>\r\n        )}\r\n\r\n        <CSSTransition in={userBoxShow} classNames=\"fade\" timeout={200} unmountOnExit>\r\n          <div id=\"modal\" className=\"modal\" onClick={() => setUserBoxShow(false)}></div>\r\n        </CSSTransition>\r\n\r\n        <CSSTransition in={userBoxShow} classNames=\"slide-right\" timeout={200} unmountOnExit>\r\n          <div className=\"user-box-body\">\r\n            <div className=\"user-box-top\">\r\n              <img\r\n                className=\"avatar\"\r\n                src={userData?.headImage || DefaultAvatar}\r\n                alt={userData?.username || \"未登录\"}\r\n                onClick={() => !userData?.isLogin && callLogin()}\r\n              />\r\n              <div className=\"username\" onClick={() => !userData?.isLogin && callLogin()}>\r\n                {userData?.username || \"未登录\"}\r\n              </div>\r\n              <div className=\"close-btn\" onClick={() => setUserBoxShow(false)}>\r\n                <i className=\"freelog fl-icon-guanbi\"></i>\r\n              </div>\r\n            </div>\r\n            <div className=\"btns\">\r\n              <div className=\"menu-btns\">\r\n                <div\r\n                  className={`btn ${history.pathname.startsWith(\"/home\") && \"active\"}`}\r\n                  onClick={() => !history.pathname.startsWith(\"/home\") && history.switchPage(\"/home\")}\r\n                >\r\n                  <i className=\"freelog fl-icon-shouye\"></i>\r\n                  <div className=\"btn-label\">首页</div>\r\n                </div>\r\n                {userData?.isLogin && (\r\n                  <div\r\n                    className={`btn ${history.pathname.startsWith(\"/shelf\") && \"active\"}`}\r\n                    onClick={() => history.switchPage(\"/shelf\")}\r\n                  >\r\n                    <i className=\"freelog fl-icon-shujia\"></i>\r\n                    <div className=\"btn-label\">我的书架</div>\r\n                  </div>\r\n                )}\r\n                {userData?.isLogin && (\r\n                  <div\r\n                    className={`btn ${history.pathname.startsWith(\"/signedList\") && \"active\"}`}\r\n                    onClick={() => history.switchPage(\"/signedList\")}\r\n                  >\r\n                    <i className=\"freelog fl-icon-lishi\"></i>\r\n                    <div className=\"btn-label\">已签约书籍</div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n              {userData?.isLogin && (\r\n                <div className=\"footer-btn\" onClick={() => callLoginOut()}>\r\n                  <i className=\"freelog fl-icon-tuichu1\"></i>\r\n                  <div className=\"btn-label\">退出登录</div>\r\n                </div>\r\n              )}\r\n              {!userData?.isLogin && (\r\n                <div className=\"footer-btn\">\r\n                  <div className=\"main-btn mobile\" onClick={() => callLogin()}>\r\n                    立即登录\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </CSSTransition>\r\n\r\n        <CSSTransition in={searchPopupShow} classNames=\"fade\" timeout={200} unmountOnExit>\r\n          <div className=\"search-page\">\r\n            <div className=\"search-page-header\">\r\n              <div className=\"search-page-box\">\r\n                <input\r\n                  className={`search-input input-none ${searchKey && \"in-focus\"}`}\r\n                  value={searchKey}\r\n                  autoFocus={true}\r\n                  onChange={(e) => setSearchKey((e.target.value || \"\").trim())}\r\n                  onKeyUp={(e: { keyCode: number }) => {\r\n                    e.keyCode === 13 && setSearchPopupShow(false);\r\n                    e.keyCode === 13 && setSearch((pre) => pre + 1);\r\n                    e.keyCode === 27 && setSearchKey(\"\");\r\n                  }}\r\n                />\r\n                <i className=\"freelog fl-icon-content\"></i>\r\n              </div>\r\n\r\n              <div className=\"cancel-btn\" onClick={() => setSearchPopupShow(false)}>\r\n                取消\r\n              </div>\r\n            </div>\r\n\r\n            {searchHistory.length !== 0 && (\r\n              <div className=\"search-history-box\">\r\n                <div className=\"search-history-box-title\">\r\n                  <div className=\"title\">搜索记录</div>\r\n                  <div className=\"text-btn\" onClick={() => clearHistory()}>\r\n                    清空\r\n                  </div>\r\n                </div>\r\n                <div className=\"search-history-box-list\">\r\n                  {searchHistory.map((item) => (\r\n                    <div\r\n                      className=\"tag\"\r\n                      key={item}\r\n                      onClick={() => {\r\n                        setSearchPopupShow(false);\r\n                        setSearchKey(item);\r\n                        setSearch((pre) => pre + 1);\r\n                      }}\r\n                    >\r\n                      {item}\r\n                      <i\r\n                        className=\"freelog fl-icon-guanbi\"\r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          deleteWord(item);\r\n                        }}\r\n                      ></i>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </CSSTransition>\r\n      </div>\r\n    );\r\n  } else if (inMobile === true && props.mobileSearching) {\r\n    // 移动端首页搜索头部\r\n    return (\r\n      <div className=\"mobile-search-header-wrapper\">\r\n        <div className=\"search-page-box\">\r\n          <input\r\n            className={`search-input input-none ${searchKey && \"in-focus\"}`}\r\n            value={searchKey}\r\n            maxLength={100}\r\n            onChange={(e) => {\r\n              setSearchKey((e.target.value || \"\").trim());\r\n              !e.target.value && history.switchPage(\"/home\");\r\n              !e.target.value && setSearchPopupShow(true);\r\n            }}\r\n            onKeyUp={(e: { keyCode: number }) => {\r\n              e.keyCode === 13 && setSearch((pre) => pre + 1);\r\n            }}\r\n          />\r\n          <i className=\"freelog fl-icon-content\"></i>\r\n        </div>\r\n\r\n        <div className=\"cancel-btn\" onClick={() => history.switchPage(\"/home\")}>\r\n          取消\r\n        </div>\r\n      </div>\r\n    );\r\n  } else if (inMobile === false) {\r\n    // PC\r\n    return (\r\n      <div className=\"header-wrapper\">\r\n        <div className=\"header-box\">\r\n          <div className=\"header-left\">\r\n            {/* logo */}\r\n            <img\r\n              className=\"logo\"\r\n              src={selfConfig.logoImage || MyLogo}\r\n              alt=\"logo\"\r\n              onClick={() => history.switchPage(\"/home\")}\r\n            />\r\n\r\n            {/* 搜索框 */}\r\n            <div className=\"small-search-box\">\r\n              <input\r\n                id=\"searchInput\"\r\n                className={`search-input input-none ${searchKey && \"in-focus\"}`}\r\n                value={searchKey}\r\n                maxLength={100}\r\n                onChange={(e) => {\r\n                  setSearchKey((e.target.value || \"\").trim());\r\n                  setSearchHistoryShow(true);\r\n                  setSearchWordCatch(null);\r\n                }}\r\n                onKeyUp={(e: { keyCode: number }) => inputKeyUp(e.keyCode)}\r\n                onFocus={() => setSearchHistoryShow(true)}\r\n              />\r\n              <i className=\"freelog fl-icon-content\"></i>\r\n              {searchKey && (\r\n                <i\r\n                  className=\"freelog fl-icon-guanbi text-btn clear-btn\"\r\n                  onClick={() => {\r\n                    setSearchKey(\"\");\r\n                    setSearch((pre) => pre + 1);\r\n                  }}\r\n                ></i>\r\n              )}\r\n\r\n              <CSSTransition\r\n                in={searchHistoryShow && mySearchHistory.length !== 0}\r\n                classNames=\"fade-in\"\r\n                timeout={200}\r\n                unmountOnExit\r\n              >\r\n                <div id=\"searchHistoryPopup\" className=\"search-history\">\r\n                  <div className=\"history-list\">\r\n                    {mySearchHistory.map((item, index) => (\r\n                      <div\r\n                        className={`history-item ${searchWordCatch === index && \"catch\"}`}\r\n                        key={item}\r\n                        onClick={() => {\r\n                          setSearchKey(item);\r\n                          setSearch((pre) => pre + 1);\r\n                        }}\r\n                        onMouseMove={() => setSearchWordCatch(index)}\r\n                        onMouseLeave={() => setSearchWordCatch(null)}\r\n                      >\r\n                        <div className=\"item-word\">{item}</div>\r\n                        <i\r\n                          className=\"freelog fl-icon-guanbi delete-btn\"\r\n                          onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            deleteWord(item);\r\n                          }}\r\n                        ></i>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n\r\n                  <div className=\"text-btn\" onClick={() => clearHistory()}>\r\n                    清空搜索记录\r\n                  </div>\r\n                </div>\r\n              </CSSTransition>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"header-right\">\r\n            <div className=\"nav-btn\" onClick={() => history.switchPage(\"/home\")}>\r\n              首页\r\n            </div>\r\n            {userData?.isLogin && (\r\n              <div className=\"nav-btn\" onClick={() => history.switchPage(\"/shelf\")}>\r\n                我的书架\r\n              </div>\r\n            )}\r\n\r\n            {userData?.isLogin ? (\r\n              <div\r\n                className=\"user-avatar\"\r\n                onMouseOver={() => setUserBoxShow(true)}\r\n                onMouseLeave={() => setUserBoxShow(false)}\r\n              >\r\n                <img className=\"avatar\" src={userData.headImage} alt={userData.username} />\r\n\r\n                <CSSTransition in={userBoxShow} classNames=\"slide-down-scale\" timeout={200} unmountOnExit>\r\n                  <div className=\"user-box\">\r\n                    <div className=\"user-box-body\">\r\n                      <img className=\"avatar\" src={userData.headImage} alt={userData.username} />\r\n                      <div className=\"username\">{userData.username}</div>\r\n                      <div className=\"btn user-box-btn\" onClick={() => history.switchPage(\"/signedList\")}>\r\n                        已签约书籍\r\n                      </div>\r\n                      <div className=\"btn user-box-btn\" onClick={() => callLoginOut()}>\r\n                        登出\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </CSSTransition>\r\n              </div>\r\n            ) : (\r\n              <div className=\"user-btns\">\r\n                <div className=\"btn header-login-btn\" onClick={() => callLogin()}>\r\n                  登录\r\n                </div>\r\n                <div className=\"btn header-register-btn\" onClick={() => window.open(\"https://user.freelog.com/logon\")}>\r\n                  注册\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  } else {\r\n    return <></>;\r\n  }\r\n};\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAYCAYAAADKx8xXAAAAAXNSR0IArs4c6QAAARxJREFUOE+l1KFLQ1EUx/HvT0QEYeAfY3NOhAWLIBajRptYrVarbTaDJkEEEYsmk0kEiziGwWAQBBHDT668jet8e9vR1174cM8953eu+OOnUZ3taeAQ2JR0NxK0XQMugBngSlJjKLQ9BZwBs0AbqEvqVELbk8ApsAA8AXOSHtL1BkLbE8AxsAg8Aw1J992elELb48ARsAy8APOSbvNG/oK2x4ADYBV4TWVKuunv/g9oO/23gHXgDWhKui4bWT/cAzaA93Q3SZeD5tyDtneBLeADWJJ0XhWOb2h7B9gGPoEVSSfDEvU/WJwaL7Vblu14c4pTU+n7wFpoHAWOByArOR65DMdDnuH4WmU4X+THYierFznD8acjw/HHqiy3X0C+gBllQn/VAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH4AAABgCAYAAADb/8ZjAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAfqADAAQAAAABAAAAYAAAAAD/Rj6lAAAEfklEQVR4Ae2dIU8kQRCFdwkJJAhAwC84CIawAofDY3EoFPyIE/cjQKFwWDxuHWLJGgL3C0CwiEtA7b1HpkmzTJA1b6ZfJZXume29qn7f1Exv3yT0ez/YdDpdxccD+DZ8Db4MX4Db9BR4R0qv8Gf4GD7q9/svaGutX3cWwFdw/gC+B68dU/c9n5NSYIpshvBrXACT2cy+QQX0HQw6hruyZ9Vq5zHvBBeAf5en/wU8oO/jw0N4fv4ex7fwR/gE/8AbWpuYAmC3iJR4p96A78K34MlY/Vdgd5NOfAKuKv0EH6RzT+hfYvBDGuy2PQqA5yayPYKvV1kT/nmq/A/IGMQr5Q883d7/on+GQf/Q2lqqALguIfVT+K9qCrzt/wbXyVx1ggu5BJ2VbuiVMG1uqsI9wxzIlEbGZN2bw1XBn2xcvSfj7d2VntRoeVuxvMymsUfmrPgBPD3X7zHQz/RMpS50K6ZcpNPIekDw3JxJxtW7rZsK5Gy3CZ47csn4k83WTQVytmsEz23YZN92eNIHbluvQM52meDTar6HZ4E3Z1rPt34CM2wXCN5WoAIGXyB0TtngDb5QBQqdtive4AtVoNBpu+INvlAFCp22K97gC1Wg0Gm74g2+UAUKnbYr3uALVaDQac8rzBvvgPHV32IM/0WaXnVrbM6+1TcmfbOBDb5Z/RuLbvCNSd9sYINvVv/Goht8Y9I3G1hiVa+wym0WQ3x0V3y85hIRDV4CQ3wSBh+vuUREg5fAEJ+EwcdrLhHR4CUwxCdh8PGaS0Q0eAkM8UkYfLzmEhENXgJDfBIGH6+5RESJvXq/gRN/Lbji4zWXiGjwEhjikzD4eM0lIhq8BIb4JAw+XnOJiBKrer+BE38tuOLjNZeIaPASGOKTMPh4zSUiGrwEhvgkDD5ec4mIBi+BIT4Jg4/XXCKiwUtgiE/C4OM1l4ho8BIY4pMw+HjNJSJK7NX7DZz4a8EVH6+5RESDl8AQn4TBx2suEdHgJTDEJ2Hw8ZpLRJRY1fsNnPhrwRUfr7lERIOXwBCfhMHHay4R0eAlMMQnYfDxmktENHgJDPFJGHy85hIRDV4CQ3wSBh+vuUREg5fAEJ+EwcdrLhHR4CUwxCdh8PGaS0Q0eAkM8UkQ/HsKi5ceF1PfbbcUmGH7TvCv2RRXsr673VIgZ/tK8M/Z/DayvrvdUiBn+0zw42x+u1nf3W4pkLMdE/wInv6o7xaeBZvdmq9nUzHdqpQg69Ec3nd7QWeYyXOEgUvZsbstVqBieZRNYUjmrHjaNTyt7tfRPzV8ytJuqxieYhZkSiNjsu59/h1zDNrB8Ul27gn9S1wdD2htLVMAPPnIZqUn6LzFn4PnHafyCZ4HGLyP5nDm/D2Ob+GP8Am++IbWJqYA2HEPhj/ZuHrnQi4909H9WMNdgd0ND2hfwPNEVfnH6C7w2NZ6BXh7v0iVnmbzDTw/AHxeOQfwPXjtGJy3aSvAWzsX7deAPplN9UeouABW8YUBfBu+Bl+G+04AEQSNlc1dWG7IcW9mBOD8xVZr/wGOx8DO+ORNfQAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,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\"","import \"./tags.scss\";\r\nimport { useMyHistory } from \"../../utils/hooks\";\r\nimport { useContext } from \"react\";\r\nimport { globalContext } from \"../../router\";\r\n\r\n/** 标签组 */\r\nexport const Tags = (props: { data: string[] }) => {\r\n  const { data } = props;\r\n  const { inMobile } = useContext(globalContext);\r\n  const history = useMyHistory();\r\n\r\n  return (\r\n    <div className=\"tag-wrapper\">\r\n      {data.map((tag) => (\r\n        <div\r\n          className={`tag ${inMobile ? \"in-mobile\" : \"in-pc\"}`}\r\n          key={tag}\r\n          title={`搜索“${tag}”`}\r\n          onClick={(e) => {\r\n            e.stopPropagation();\r\n            history.switchPage(`/home?tags=${tag}`);\r\n          }}\r\n        >\r\n          {tag}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n","import \"./novel.scss\";\r\nimport Lock from \"../../assets/images/mini-lock.png\";\r\nimport AuthLinkAbnormal from \"../../assets/images/auth-link-abnormal.png\";\r\nimport { ExhibitItem } from \"../../api/interface\";\r\nimport { useMyHistory } from \"../../utils/hooks\";\r\nimport { Tags } from \"../tags/tags\";\r\nimport { useContext, useRef } from \"react\";\r\nimport { globalContext } from \"../../router\";\r\nimport { showToast } from \"../toast/toast\";\r\n\r\n/** 小说组件 */\r\nexport const Novel = (props: {\r\n  mode?: number; // 1-首页默认样式 2-书架样式 3-签约记录样式 4-移动端首页书架样式\r\n  data: ExhibitItem;\r\n  operateShelf?: (data: ExhibitItem) => void;\r\n}) => {\r\n  const { mode = 1, data, operateShelf } = props;\r\n  const { inMobile } = useContext(globalContext);\r\n  const history = useMyHistory();\r\n  const deleteBook = useRef(false);\r\n\r\n  /** 跳转页面 */\r\n  const toPath = (path: string) => {\r\n    if (![0, 4].includes(data.defaulterIdentityType)) {\r\n      showToast(\"授权链异常，无法查看\");\r\n      return;\r\n    }\r\n\r\n    history.switchPage(`${path}?id=${data.exhibitId}`);\r\n  };\r\n\r\n  return mode === 4 ? (\r\n    // 移动端书架小说组件\r\n    <div className=\"mobile-shelf-novel-wrapper\" onClick={() => toPath(\"/detail\")}>\r\n      <div className=\"book-cover-box\">\r\n        <img\r\n          className={`book-cover ${![0, 4].includes(data.defaulterIdentityType) && \"opacity-40p\"}`}\r\n          src={data.coverImages[0]}\r\n          alt={data.exhibitTitle}\r\n        />\r\n        {data.onlineStatus === 0 && <div className=\"offline\">已下架</div>}\r\n      </div>\r\n\r\n      <div className=\"book-name\" title={data.exhibitTitle}>\r\n        {![0, 4].includes(data.defaulterIdentityType) && (\r\n          <img className=\"auth-link-abnormal\" src={AuthLinkAbnormal} alt=\"授权链异常\" />\r\n        )}\r\n        <div className={`name ${![0, 4].includes(data.defaulterIdentityType) && \"opacity-40p\"}`}>\r\n          {data.exhibitTitle}\r\n        </div>\r\n      </div>\r\n\r\n      <div className={`book-author ${![0, 4].includes(data.defaulterIdentityType) && \"opacity-40p\"}`}>\r\n        {data.articleInfo.articleOwnerName}\r\n      </div>\r\n    </div>\r\n  ) : (\r\n    // 普通小说组件\r\n    <div className={`novel-wrapper ${inMobile ? \"in-mobile\" : \"in-pc\"}`} onClick={() => toPath(\"/detail\")}>\r\n      <div className=\"novel-content\">\r\n        <div className=\"book-cover-box\">\r\n          <img\r\n            className={`book-cover ${![0, 4].includes(data.defaulterIdentityType) && \"opacity-40p\"}`}\r\n            src={data.coverImages[0]}\r\n            alt={data.exhibitTitle}\r\n          />\r\n          {data.onlineStatus === 0 && <div className=\"offline\">已下架</div>}\r\n        </div>\r\n\r\n        <div className={`book-info ${mode === 3 && inMobile && \"auth-book\"}`}>\r\n          <div className=\"book-name-box\" title={data.exhibitTitle}>\r\n            {![0, 4].includes(data.defaulterIdentityType) && (\r\n              <img className=\"auth-link-abnormal\" src={AuthLinkAbnormal} alt=\"授权链异常\" />\r\n            )}\r\n            {mode !== 3 && data.defaulterIdentityType >= 4 && <img className=\"lock\" src={Lock} alt=\"未授权\" />}\r\n            <div className={`book-name ${![0, 4].includes(data.defaulterIdentityType) && \"opacity-40p\"}`}>\r\n              {data.exhibitTitle}\r\n            </div>\r\n            {mode === 3 && data.defaulterIdentityType < 4 && !inMobile && <div className=\"tag is-auth\">已授权</div>}\r\n            {mode === 3 && data.defaulterIdentityType >= 4 && !inMobile && <div className=\"tag not-auth\">未授权</div>}\r\n          </div>\r\n\r\n          <div className={`book-author ${![0, 4].includes(data.defaulterIdentityType) && \"opacity-40p\"}`}>\r\n            {data.articleInfo.articleOwnerName}\r\n          </div>\r\n\r\n          {!(mode === 3 && inMobile) && (\r\n            <div className={`tags ${![0, 4].includes(data.defaulterIdentityType) && \"opacity-40p\"}`}>\r\n              <Tags data={data.tags} />\r\n            </div>\r\n          )}\r\n\r\n          {mode === 3 && inMobile && (\r\n            <div className={`auth-tag ${data.defaulterIdentityType < 4 ? \"is-auth\" : \"not-auth\"}`}>\r\n              {data.defaulterIdentityType < 4 ? \"已授权\" : \"未授权\"}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {!(mode === 3 && inMobile) && (\r\n          <i\r\n            className={`freelog fl-icon-zhankaigengduo ${\r\n              ![0, 4].includes(data.defaulterIdentityType) && \"opacity-40p\"\r\n            }`}\r\n          ></i>\r\n        )}\r\n\r\n        {[2, 3].includes(mode) && (\r\n          <div\r\n            className={`main-btn btn ${![0, 4].includes(data.defaulterIdentityType) && \"disabled\"}`}\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              toPath(\"/reader\");\r\n            }}\r\n          >\r\n            立即阅读\r\n          </div>\r\n        )}\r\n\r\n        {mode === 2 && (\r\n          <div\r\n            className=\"warning-btn btn\"\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              if (!deleteBook.current) {\r\n                deleteBook.current = true;\r\n                operateShelf && operateShelf(data);\r\n              }\r\n            }}\r\n          >\r\n            移出书架\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAkRJREFUWEftl0tr1FAUx//n3piZhYK4sj5WguLKTRaT5FJEcKGgVEFFXQr6CVr8CNJ+Ah+4s4JCLYi6kyJJZhZBcCUKrnzUlSAKziO5R26ZSJRmJpmpHYXe7T3nf3/ncXNPCBVWHMfbut3ujNZ6BoADYE/f/ROAWAixbNv2suM4vbKyVNYwiqIzzLzAzAcG+RDROyKa9TzvURntoQDMLJrN5g2t9WwZwcxGCLHguu51ItIDgYeJRlE0X/XwPITneXMjA5i0a62X8gJExMx8F8CSbdsvhRA/er3etNb6FIArJmN5eyHE2UHlKCyBabhOp/P6j5p/JqILvu+/WC+qMAyPMfM9ALuzfdMTtVrtcFFjFgJEUXROa/0gJ2Rqedz3/eeDUhqG4TSAFWb+pS2EOO953sP1/AoBgiAwkVzKAdz2ff/qsJ4x+0EQ3DHlyNkuKqUuVwV4A+Bg5iSlPO267uOSACcBPMnZvlVKHaoK8A3A9sypXq/vdBznaxmAOI6n2u22+Thl67tSakchQKvV2pem6TwzHwUwVeaQMWxWiWhFSjnXaDQ+UP/wV8y8awzRyq5E9EVKeYTCMFxk5ouVFTbAgYjuUxAEplZ/O+1FuKsGgDcgmJEl/l8AInoqpbxmQk+S5BaAE6OkYZwM7FVKrd11c5OSJHm/qQBKqd8+46P20sgZ2ALYysDEM2BZ1n7zmvUHEPN/8HFTryGAZ5ZlrU1IaZreZGYzhFReI1/DyicVOPwTAJN9jic+kEx8JMtes0kNpT8BOb8zgBhjWW4AAAAASUVORK5CYII=\"","import { freelogEntranceItem, shareBtnItem, ThemeItem } from \"./interface\";\r\n\r\n/** 节点主题色 */\r\nexport const themeList: any = {\r\n  酷黑: { gradientColor: \"linear-gradient(135deg, #222222, #353535)\", deriveColor: \"#222222\" },\r\n  炫丽: { gradientColor: \"linear-gradient(135deg, #C127FF, #35A3C5)\", deriveColor: \"#C127FF\" },\r\n  活力: { gradientColor: \"linear-gradient(135deg, #F08840, #F0C23F)\", deriveColor: \"#F08840\" },\r\n  灰度: { gradientColor: \"linear-gradient(135deg, #2C3E50, #BDC3C7)\", deriveColor: \"#2C3E50\" },\r\n  蜜桃: { gradientColor: \"linear-gradient(135deg, #E7949F, #E2C1A3)\", deriveColor: \"#E7949F\" },\r\n  清新: { gradientColor: \"linear-gradient(135deg, #5D9191, #A2D5C5)\", deriveColor: \"#5D9191\" },\r\n  沉静: { gradientColor: \"linear-gradient(315deg, #2C5364, #0F2027)\", deriveColor: \"#0F2027\" },\r\n};\r\n\r\n/** 阅读页主题色 */\r\nexport const readerThemeList: ThemeItem[] = [\r\n  { bookColor: \"#ffffff\", bgColor: \"#efefef\", type: 0 },\r\n  { bookColor: \"#F6ECC9\", bgColor: \"#EAD9AA\", type: 0 },\r\n  { bookColor: \"#E3EFE3\", bgColor: \"#CEE0CE\", type: 0 },\r\n  { bookColor: \"#E2EFF2\", bgColor: \"#D1DEE1\", type: 0 },\r\n  { bookColor: \"#F5E3E4\", bgColor: \"#EACECD\", type: 0 },\r\n  { bookColor: \"#111111\", bgColor: \"#181818\", type: 1 },\r\n];\r\n\r\n/** freelog 相关入口 */\r\nexport const freelogEntrances: freelogEntranceItem[] = [\r\n  { label: \"freelog fl-icon-a-featherlogo5\", url: \"https://www.freelog.com/\" },\r\n  {\r\n    label: \"关于freelog\",\r\n    url: \"https://freelog4.freelog.com/$freelog-61f252ef6fe5c1002e2c7b4b=/home_id=62d0d202456ff0002e3295ab\",\r\n  },\r\n  {\r\n    label: \"使用此主题\",\r\n    url: \"https://console.freelog.com/resource/details/61f251286fe5c1002e2c7b41\",\r\n  },\r\n  { label: \"浏览更多主题\", url: \"https://console.freelog.com/market?query=主题\" },\r\n];\r\n\r\n/** 分享按钮 */\r\nexport const shareBtns: shareBtnItem[] = [\r\n  {\r\n    id: \"qqZone\",\r\n    name: \"QQ空间\",\r\n    icon: \"fl-icon-kongjian\",\r\n    bgColor: \"#66d8f7\",\r\n  },\r\n  { id: \"qq\", name: \"QQ\", icon: \"fl-icon-QQ\", bgColor: \"#5382d3\" },\r\n  { id: \"weibo\", name: \"微博\", icon: \"fl-icon-weibo\", bgColor: \"#ff6f68\" },\r\n  { id: \"wechat\", name: \"微信\", icon: \"fl-icon-weixin\", bgColor: \"#1ec76f\" },\r\n  { id: \"douban\", name: \"豆瓣\", icon: \"fl-icon-douban\", bgColor: \"#42a151\" },\r\n];\r\n","import { useContext } from \"react\";\r\nimport { freelogEntrances } from \"../../api/data\";\r\nimport { globalContext } from \"../../router\";\r\nimport \"./theme-entrance.scss\";\r\n\r\nexport const ThemeEntrance = () => {\r\n  const themeEntrance = freelogEntrances[2];\r\n  const { inMobile, selfConfig, theme } = useContext(globalContext);\r\n\r\n  return (\r\n    <div\r\n      className={`theme-entrance-wrapper ${!inMobile && selfConfig.entranceShow === \"显示\" && \"show\"}`}\r\n      style={{ boxShadow: `0px 2px 10px 0px ${theme.deriveColor}40` }}\r\n      onClick={() => window.open(themeEntrance.url)}\r\n    >\r\n      <i className=\"freelog fl-icon-shiyongzhuti\"></i>\r\n      <div className=\"text\">{themeEntrance.label}</div>\r\n    </div>\r\n  );\r\n};\r\n","import { useContext } from \"react\";\r\nimport { freelogEntrances } from \"../../api/data\";\r\nimport { globalContext } from \"../../router\";\r\nimport \"./footer.scss\";\r\n\r\n/** 页面脚部 */\r\nexport const Footer = () => {\r\n  const { inMobile } = useContext(globalContext);\r\n\r\n  if (inMobile === true) {\r\n    // mobile\r\n    return (\r\n      <div className=\"mobile-footer-wrapper\">\r\n        {freelogEntrances\r\n          .filter((_, entrancesIndex) => entrancesIndex < 2)\r\n          .map((item, index) => (\r\n            <div className=\"second-text-btn mobile\" key={item.label} onClick={() => window.open(item.url)}>\r\n              {index === 0 ? <i className={item.label}></i> : <span>{item.label}</span>}\r\n            </div>\r\n          ))}\r\n      </div>\r\n    );\r\n  } else if (inMobile === false) {\r\n    // PC\r\n    return (\r\n      <div className=\"footer-wrapper\">\r\n        {freelogEntrances.map((item, index) => (\r\n          <div className=\"second-text-btn\" key={item.label} onClick={() => window.open(item.url)}>\r\n            {index === 0 ? <i className={item.label}></i> : <span>{item.label}</span>}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  } else {\r\n    return <></>;\r\n  }\r\n};\r\n","import { useContext } from \"react\";\r\nimport { callLogin } from \"../../api/freelog\";\r\nimport { globalContext } from \"../../router\";\r\nimport \"./login-btn.scss\";\r\n\r\n/** 移动端登录/注册按钮 */\r\nexport const LoginBtn = () => {\r\n  const { userData, inMobile, theme } = useContext(globalContext);\r\n\r\n  return (\r\n    <div\r\n      className={`login-btn-wrapper main-btn mobile ${(userData?.isLogin || !inMobile) && \"hidden\"}`}\r\n      style={{ boxShadow: `0px 2px 10px 0px ${theme.deriveColor}40` }}\r\n      onClick={() => callLogin()}\r\n    >\r\n      登录 / 注册\r\n    </div>\r\n  );\r\n};\r\n","import \"./loader.scss\";\r\n\r\n/** loading 动画 */\r\nexport const Loader = () => {\r\n  return (\r\n    <div className=\"loader-wrapper\">\r\n      <div className=\"book\">\r\n        <div className=\"static-page\">\r\n          <span></span>\r\n          <span></span>\r\n          <span></span>\r\n          <span></span>\r\n          <span></span>\r\n        </div>\r\n        <div className=\"static-page right\">\r\n          <span></span>\r\n          <span></span>\r\n          <span></span>\r\n          <span></span>\r\n          <span></span>\r\n        </div>\r\n        <div className=\"page\">\r\n          <span></span>\r\n          <span></span>\r\n          <span></span>\r\n          <span></span>\r\n          <span></span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","/**\r\n * 格式化日期\r\n * @param time 时间戳、字符串日期等等\r\n * @param format 自定义输出结果格式（YYYY:年，MM:月，DD:日，hh:时，mm:分，ss:秒）\r\n */\r\nexport const formatDate = (time: string | undefined, format: string = \"YYYY-MM-DD hh:mm:ss\") => {\r\n  if (!time) return \"\";\r\n\r\n  const date = new Date(time);\r\n\r\n  const year = String(date.getFullYear());\r\n  const month = String(date.getMonth() + 1).padStart(2, \"0\");\r\n  const day = String(date.getDate()).padStart(2, \"0\");\r\n  const hour = String(date.getHours()).padStart(2, \"0\");\r\n  const minutes = String(date.getMinutes()).padStart(2, \"0\");\r\n  const seconds = String(date.getSeconds()).padStart(2, \"0\");\r\n\r\n  const result = format\r\n    .replace(\"YYYY\", year)\r\n    .replace(\"MM\", month)\r\n    .replace(\"DD\", day)\r\n    .replace(\"hh\", hour)\r\n    .replace(\"mm\", minutes)\r\n    .replace(\"ss\", seconds);\r\n  return result;\r\n};\r\n\r\n/** 判断设备 */\r\nexport const judgeDevice = () => {\r\n  const mobile =\r\n    /(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i;\r\n  let inMobile = !!navigator.userAgent.match(mobile);\r\n  if (!inMobile) {\r\n    const deviceWidth = Math.min(document.body.clientWidth, document.body.clientHeight);\r\n    if (deviceWidth <= 500) inMobile = true;\r\n  }\r\n\r\n  return inMobile;\r\n};\r\n\r\n/** 获取 url 参数 */\r\nexport const getUrlParams = (str: string) => {\r\n  str = decodeURIComponent(str);\r\n  const result: Record<string, string> = {};\r\n  const paramsArr = str.replace(\"?\", \"\").split(\"&\");\r\n  paramsArr.forEach((item) => {\r\n    const [key, value] = item.split(\"=\");\r\n    result[key] = value;\r\n  });\r\n  return result;\r\n};\r\n","import \"./home.scss\";\r\nimport { useState, useEffect, useCallback, useRef, useContext } from \"react\";\r\nimport { Header } from \"../../components/header/header\";\r\nimport { getExhibitAuthStatus, getExhibitListByPaging, GetExhibitListByPagingParams } from \"../../api/freelog\";\r\nimport { ExhibitItem } from \"../../api/interface\";\r\nimport { Novel } from \"../../components/novel/novel\";\r\nimport { useMyHistory, useMyScroll, useMyShelf } from \"../../utils/hooks\";\r\nimport { globalContext } from \"../../router\";\r\nimport { ThemeEntrance } from \"../../components/theme-entrance/theme-entrance\";\r\nimport { Footer } from \"../../components/footer/footer\";\r\nimport { LoginBtn } from \"../../components/login-btn/login-btn\";\r\nimport CSSTransition from \"react-transition-group/CSSTransition\";\r\nimport { Loader } from \"../../components/loader/loader\";\r\nimport { getUrlParams } from \"../../utils/common\";\r\n\r\n/** 首页 */\r\nexport const HomeScreen = (props: any) => {\r\n  const { tags, keywords } = getUrlParams(props.location.search);\r\n  const { inMobile } = useContext(globalContext);\r\n  const { scrollTop, clientHeight, scrollHeight } = useMyScroll();\r\n  const [novelList, setNovelList] = useState<ExhibitItem[]>([]);\r\n  const [total, setTotal] = useState<number | null>(null);\r\n  const [searching, setSearching] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [myloading, setMyloading] = useState(false);\r\n  let skip = useRef(0);\r\n\r\n  /** 获取小说列表 */\r\n  const getNovelList = useCallback(\r\n    async (init = false) => {\r\n      if (myloading) return;\r\n\r\n      setSearching(!!keywords);\r\n\r\n      if (total === novelList.length && !init) return;\r\n\r\n      if (init) setLoading(true);\r\n      setMyloading(true);\r\n      skip.current = init ? 0 : skip.current + 30;\r\n      const queryParams: GetExhibitListByPagingParams = {\r\n        articleResourceTypes: \"文章\",\r\n        skip: skip.current,\r\n        limit: 30,\r\n      };\r\n      if (tags) queryParams.tags = tags;\r\n      if (keywords) queryParams.keywords = keywords;\r\n\r\n      const list = await getExhibitListByPaging(queryParams);\r\n      const { dataList, totalItem } = list.data.data;\r\n      if (dataList.length !== 0) {\r\n        const ids = dataList.map((item: ExhibitItem) => item.exhibitId).join();\r\n        const statusInfo = await getExhibitAuthStatus(ids);\r\n        if (statusInfo.data.data) {\r\n          dataList.forEach((item: ExhibitItem) => {\r\n            const index = statusInfo.data.data.findIndex(\r\n              (resultItem: { exhibitId: string }) => resultItem.exhibitId === item.exhibitId\r\n            );\r\n            if (index !== -1) item.defaulterIdentityType = statusInfo.data.data[index].defaulterIdentityType;\r\n          });\r\n        }\r\n      }\r\n      setNovelList((pre) => (init ? dataList : [...pre, ...dataList]));\r\n      setTotal(totalItem);\r\n      if (init) setLoading(false);\r\n      setMyloading(false);\r\n    },\r\n    // eslint-disable-next-line\r\n    [novelList.length, total, tags, keywords]\r\n  );\r\n\r\n  useEffect(() => {\r\n    getNovelList(true);\r\n    // eslint-disable-next-line\r\n  }, [tags, keywords]);\r\n\r\n  useEffect(() => {\r\n    if (scrollTop + clientHeight === scrollHeight) getNovelList();\r\n    // eslint-disable-next-line\r\n  }, [scrollTop, clientHeight, scrollHeight]);\r\n\r\n  return (\r\n    <div className=\"home-wrapper\">\r\n      <Header homeHeader={!searching} mobileSearching={(inMobile && searching) || false} defaultSearchKey={keywords} />\r\n      <HomeBody\r\n        novelList={novelList}\r\n        searching={searching}\r\n        total={total}\r\n        tags={tags}\r\n        keywords={keywords}\r\n        loading={loading}\r\n        myloading={myloading}\r\n      />\r\n      <Footer />\r\n      <LoginBtn />\r\n      <ThemeEntrance />\r\n    </div>\r\n  );\r\n};\r\n\r\n/** 首页主体内容 */\r\nconst HomeBody = (props: {\r\n  novelList: ExhibitItem[];\r\n  searching: boolean;\r\n  total: number | null;\r\n  tags: string;\r\n  keywords: string;\r\n  loading: boolean;\r\n  myloading: boolean;\r\n}) => {\r\n  const { novelList, searching, total, tags, keywords, loading, myloading } = props;\r\n  const { inMobile, userData, selfConfig } = useContext(globalContext);\r\n  const tagsList: string[] = selfConfig.tags?.split(\",\");\r\n  const { myShelf } = useMyShelf();\r\n  const history = useMyHistory();\r\n  const [filterBoxShow, setFilterBoxShow] = useState(false);\r\n\r\n  const selectTag = (tag: string) => {\r\n    if (!tag && !keywords) {\r\n      history.switchPage(\"/home\");\r\n      return;\r\n    }\r\n\r\n    let url = `/home?`;\r\n    if (tag) url += `tags=${tag}`;\r\n    if (keywords) url += `${tag ? \"&\" : \"\"}keywords=${keywords}`;\r\n    history.switchPage(url);\r\n  };\r\n\r\n  if (inMobile === true) {\r\n    // mobile\r\n    return (\r\n      <div className=\"mobile-home-body\">\r\n        {!searching && userData?.isLogin && myShelf && myShelf.length !== 0 && (\r\n          <div className=\"shelf-book-list\">\r\n            <div className=\"shelf-header\">\r\n              <div className=\"box-title\">我的书架</div>\r\n              <div className=\"more-shelf\" onClick={() => history.switchPage(\"/shelf\")}>\r\n                全部\r\n                <i className=\"freelog fl-icon-zhankaigengduo\"></i>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"book-list-box\">\r\n              {myShelf.map((item) => {\r\n                return (\r\n                  <div className=\"book-box\" key={item.exhibitId}>\r\n                    <Novel mode={4} data={item}></Novel>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"book-list\">\r\n          {searching ? (\r\n            <div className=\"search-box-title\">\r\n              <div className=\"box-title\">查询到{novelList.length}个相关结果</div>\r\n              <div className={`text-btn mobile ${myloading && \"disabled\"}`} onClick={() => setFilterBoxShow(true)}>\r\n                <i className=\"freelog fl-icon-shaixuan\"></i>\r\n                <div className=\"filter-label\">筛选</div>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"box-header\">\r\n              <div className=\"box-title\">精选小说</div>\r\n              <div className={`text-btn mobile ${myloading && \"disabled\"}`} onClick={() => setFilterBoxShow(true)}>\r\n                <i className=\"freelog fl-icon-shaixuan\"></i>\r\n                <div className=\"filter-label\">筛选</div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {loading && <Loader />}\r\n\r\n          {!loading &&\r\n            novelList.map((item) => {\r\n              return (\r\n                <div key={item.exhibitId} className=\"book-box\">\r\n                  <Novel data={item}></Novel>\r\n                </div>\r\n              );\r\n            })}\r\n\r\n          {!loading && novelList.length === 0 && <div className=\"tip\">当前节点暂无任何书籍，请稍后查看</div>}\r\n\r\n          {!loading && novelList.length !== 0 && novelList.length === total && (\r\n            <div className=\"tip no-more\">— 已加载全部书籍 —</div>\r\n          )}\r\n        </div>\r\n\r\n        <CSSTransition in={filterBoxShow} classNames=\"fade\" timeout={200} unmountOnExit>\r\n          <div id=\"modal\" className=\"modal\" onClick={() => setFilterBoxShow(false)}></div>\r\n        </CSSTransition>\r\n        <CSSTransition in={filterBoxShow} classNames=\"slide-right\" timeout={200} unmountOnExit>\r\n          <div className=\"filter-box-body\">\r\n            <div className=\"filter-box-header\">\r\n              <div className=\"header-title\">按标签筛选</div>\r\n              <div className=\"close-btn\" onClick={() => setFilterBoxShow(false)}>\r\n                <i className=\"freelog fl-icon-guanbi\"></i>\r\n              </div>\r\n            </div>\r\n            <div className=\"tags-box\">\r\n              <div\r\n                className={`tag ${!tags && \"active\"}`}\r\n                onClick={() => {\r\n                  setFilterBoxShow(false);\r\n                  selectTag(\"\");\r\n                }}\r\n              >\r\n                全部\r\n              </div>\r\n              <div className=\"tags-box-list\">\r\n                {tagsList.map((item) => (\r\n                  <div\r\n                    className={`tag ${tags === item && \"active\"}`}\r\n                    key={item}\r\n                    onClick={() => {\r\n                      setFilterBoxShow(false);\r\n                      selectTag(item);\r\n                    }}\r\n                  >\r\n                    {item}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </CSSTransition>\r\n      </div>\r\n    );\r\n  } else if (inMobile === false) {\r\n    // PC\r\n    return (\r\n      <div className=\"home-body\">\r\n        {!searching && userData?.isLogin && myShelf && myShelf.length !== 0 && (\r\n          <div className=\"book-list\">\r\n            <div className=\"shelf-header\">\r\n              <div className=\"box-title\">我的书架</div>\r\n              <div className=\"shelf-header-right\">\r\n                <div className=\"text-btn\" onClick={() => history.switchPage(\"/shelf\")}>\r\n                  管理书架\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"book-list-box\">\r\n              {myShelf.map((item) => {\r\n                return (\r\n                  <div className=\"book-box\" key={item.exhibitId}>\r\n                    <Novel data={item}></Novel>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"book-list\">\r\n          {searching ? (\r\n            <div className=\"search-box-title\">查询到{novelList.length}个相关结果</div>\r\n          ) : (\r\n            <div className=\"box-title\">精选小说</div>\r\n          )}\r\n          <div className=\"filter-bar\">\r\n            <div className=\"filter-bar-bg\"></div>\r\n\r\n            <div\r\n              className={`category-btn ${!tags && \"active\"} ${myloading && \"disabled\"}`}\r\n              onClick={() => selectTag(\"\")}\r\n            >\r\n              全部\r\n            </div>\r\n\r\n            {tagsList.map((item) => {\r\n              return (\r\n                <div\r\n                  className={`category-btn ${tags === item && \"active\"} ${myloading && \"disabled\"}`}\r\n                  key={item}\r\n                  onClick={() => selectTag(item)}\r\n                >\r\n                  {item}\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n\r\n          {loading && <Loader />}\r\n\r\n          {!loading && (\r\n            <div className=\"book-list-box\">\r\n              {novelList.map((item) => {\r\n                return (\r\n                  <div key={item.exhibitId} className=\"book-box\">\r\n                    <Novel data={item}></Novel>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          )}\r\n          {!loading && novelList.length === 0 && <div className=\"tip\">当前节点暂无任何书籍，请稍后查看</div>}\r\n          {!loading && novelList.length !== 0 && novelList.length === total && (\r\n            <div className=\"tip no-more\">— 已加载全部书籍 —</div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  } else {\r\n    return <></>;\r\n  }\r\n};\r\n","import \"./shelf.scss\";\r\nimport { Header } from \"../../components/header/header\";\r\nimport { ExhibitItem } from \"../../api/interface\";\r\nimport { Novel } from \"../../components/novel/novel\";\r\nimport { useMyHistory, useMyShelf } from \"../../utils/hooks\";\r\nimport { Footer } from \"../../components/footer/footer\";\r\nimport { ThemeEntrance } from \"../../components/theme-entrance/theme-entrance\";\r\nimport { useContext } from \"react\";\r\nimport { globalContext } from \"../../router\";\r\nimport { callLogin } from \"../../api/freelog\";\r\nimport { LoginBtn } from \"../../components/login-btn/login-btn\";\r\n\r\n/** 书架页 */\r\nexport const ShelfScreen = () => {\r\n  const { inMobile } = useContext(globalContext);\r\n  const { myShelf, operateShelf } = useMyShelf();\r\n\r\n  return (\r\n    <div className={`shelf-wrapper ${inMobile ? \"in-mobile\" : \"in-pc\"}`}>\r\n      <Header />\r\n      <ShelfBody shelfList={myShelf} operateShelf={operateShelf} />\r\n      <Footer />\r\n      <LoginBtn />\r\n      <ThemeEntrance />\r\n    </div>\r\n  );\r\n};\r\n\r\n/** 书架页主体内容 */\r\nconst ShelfBody = (props: { shelfList: ExhibitItem[] | null; operateShelf: (data: ExhibitItem) => void }) => {\r\n  const { userData, inMobile } = useContext(globalContext);\r\n  const { shelfList, operateShelf } = props;\r\n  const history = useMyHistory();\r\n\r\n  if (userData?.isLogin && shelfList) {\r\n    return (\r\n      <div className=\"content\">\r\n        <div className=\"shelf-title\">我的书架</div>\r\n\r\n        {shelfList.map((item) => {\r\n          return (\r\n            <div className=\"book-box\" key={item.exhibitId}>\r\n              <Novel mode={2} data={item} operateShelf={operateShelf} />\r\n            </div>\r\n          );\r\n        })}\r\n\r\n        {shelfList.length === 0 && <div className=\"tip\">暂无数据，快去收藏书籍到书架吧～</div>}\r\n\r\n        <div className=\"add-book-box\">\r\n          <div className=\"add-book-btn\" onClick={() => history.switchPage(\"/home\")}>\r\n            <i className=\"freelog fl-icon-tianjia\"></i>\r\n            <span>添加书籍</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  } else if (userData?.isLogin === false) {\r\n    return (\r\n      <div className=\"not-login-content\">\r\n        <div className=\"not-login-tip\">此页面需登录浏览，请先登录</div>\r\n        {!inMobile && (\r\n          <div className=\"main-btn\" onClick={() => callLogin()}>\r\n            登录\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  } else {\r\n    return <></>;\r\n  }\r\n};\r\n","import \"./signed-list.scss\";\r\nimport { Header } from \"../../components/header/header\";\r\nimport { Novel } from \"../../components/novel/novel\";\r\nimport { Footer } from \"../../components/footer/footer\";\r\nimport { ThemeEntrance } from \"../../components/theme-entrance/theme-entrance\";\r\nimport { useContext, useState } from \"react\";\r\nimport { globalContext } from \"../../router\";\r\nimport { useMySignedList } from \"../../utils/hooks\";\r\nimport { callLogin } from \"../../api/freelog\";\r\nimport { LoginBtn } from \"../../components/login-btn/login-btn\";\r\n\r\n/** 签约列表页 */\r\nexport const SignedListScreen = () => {\r\n  const { inMobile } = useContext(globalContext);\r\n\r\n  return (\r\n    <div className={`signed-list-wrapper ${inMobile ? \"in-mobile\" : \"in-pc\"}`}>\r\n      <Header />\r\n      <SignedListBody />\r\n      <Footer />\r\n      <LoginBtn />\r\n      <ThemeEntrance />\r\n    </div>\r\n  );\r\n};\r\n\r\n/** 签约列表页主体内容 */\r\nconst SignedListBody = () => {\r\n  const { userData, inMobile } = useContext(globalContext);\r\n  const { mySignedList, getMySignedList } = useMySignedList();\r\n  const [searchKey, setSearchKey] = useState(\"\");\r\n\r\n  if (userData?.isLogin && mySignedList) {\r\n    return (\r\n      <div className=\"content\">\r\n        <div className=\"content-header\">\r\n          <div className=\"signed-list-title\">已签约书籍</div>\r\n\r\n          <div className=\"search-box\">\r\n            <input\r\n              className=\"search-input input-none\"\r\n              value={searchKey}\r\n              placeholder=\"搜索\"\r\n              onChange={(e) => setSearchKey((e.target.value || \"\").trim())}\r\n              onKeyUp={(e: { keyCode: number }) => {\r\n                e.keyCode === 13 && getMySignedList(searchKey);\r\n                e.keyCode === 27 && setSearchKey(\"\");\r\n              }}\r\n            />\r\n            <i className=\"freelog fl-icon-content\"></i>\r\n          </div>\r\n        </div>\r\n\r\n        {mySignedList.map((item) => {\r\n          return (\r\n            <div className=\"book-box\" key={item.exhibitId}>\r\n              <Novel mode={3} data={item} />\r\n            </div>\r\n          );\r\n        })}\r\n\r\n        {!mySignedList.length && <div className=\"tip\">暂无数据，快去签约书籍吧～</div>}\r\n      </div>\r\n    );\r\n  } else if (userData?.isLogin === false) {\r\n    return (\r\n      <div className=\"not-login-content\">\r\n        <div className=\"not-login-tip\">此页面需登录浏览，请先登录</div>\r\n        {!inMobile && (\r\n          <div className=\"main-btn\" onClick={() => callLogin()}>\r\n            登录\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  } else {\r\n    return <></>;\r\n  }\r\n};\r\n","import React, { useContext, useRef } from \"react\";\r\nimport \"./detail.scss\";\r\nimport AuthLinkAbnormal from \"../../assets/images/auth-link-abnormal.png\";\r\nimport { useState, useEffect, useCallback } from \"react\";\r\nimport { Header } from \"../../components/header/header\";\r\nimport { ExhibitItem } from \"../../api/interface\";\r\nimport {\r\n  getCurrentUrl,\r\n  getExhibitAuthStatus,\r\n  getExhibitInfo,\r\n  getExhibitSignCount,\r\n  getSubDep,\r\n  mountWidget,\r\n  pushMessage4Task,\r\n} from \"../../api/freelog\";\r\nimport { formatDate, getUrlParams } from \"../../utils/common\";\r\nimport { Tags } from \"../../components/tags/tags\";\r\nimport { useMyHistory, useMyShelf } from \"../../utils/hooks\";\r\nimport { Footer } from \"../../components/footer/footer\";\r\nimport { ThemeEntrance } from \"../../components/theme-entrance/theme-entrance\";\r\nimport { LoginBtn } from \"../../components/login-btn/login-btn\";\r\nimport { globalContext } from \"../../router\";\r\nimport { showToast } from \"../../components/toast/toast\";\r\n\r\nconst detailContext = React.createContext<any>({});\r\n\r\n/** 详情页 */\r\nexport const DetailScreen = (props: any) => {\r\n  const { id } = getUrlParams(props.location.search);\r\n  const [novel, setNovel] = useState<ExhibitItem | null>(null);\r\n\r\n  /** 获取小说信息 */\r\n  const getNovelInfo = useCallback(async () => {\r\n    const [exhibitInfo, signCountData, statusInfo] = await Promise.all([\r\n      getExhibitInfo(id, { isLoadVersionProperty: 1 }),\r\n      getExhibitSignCount(id),\r\n      getExhibitAuthStatus(id),\r\n    ]);\r\n    const bookInfo = {\r\n      ...exhibitInfo.data.data,\r\n      signCount: signCountData.data.data[0].count,\r\n      defaulterIdentityType: statusInfo.data.data[0].defaulterIdentityType,\r\n    };\r\n\r\n    setNovel(bookInfo);\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    document.documentElement.scroll({ top: 0 });\r\n    document.body.scroll({ top: 0 });\r\n\r\n    getNovelInfo();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  return (\r\n    <detailContext.Provider value={{ novel }}>\r\n      <div className=\"detail-wrapper\">\r\n        <Header />\r\n        <DetailBody />\r\n        <Footer />\r\n        <LoginBtn />\r\n        <ThemeEntrance />\r\n      </div>\r\n    </detailContext.Provider>\r\n  );\r\n};\r\n\r\n/** 详情页主体内容 */\r\nconst DetailBody = () => {\r\n  const { inMobile } = useContext(globalContext);\r\n  const { novel } = useContext(detailContext);\r\n  const { isCollected, operateShelf } = useMyShelf(novel?.exhibitId);\r\n  const history = useMyHistory();\r\n  const introContent = useRef<any>();\r\n  const shareWidget = useRef<any>();\r\n  const [introState, setIntroState] = useState(0);\r\n  const [href, setHref] = useState(\"\");\r\n\r\n  /** 移动端分享 */\r\n  const share = () => {\r\n    // 复制链接\r\n    const input: any = document.getElementById(\"href\");\r\n    input.select();\r\n    document.execCommand(\"Copy\");\r\n    showToast(\"链接复制成功～\");\r\n    pushMessage4Task({ taskConfigCode: \"TS000077\", meta: { presentableId: novel.exhibitId } });\r\n  };\r\n\r\n  /** 加载分享插件 */\r\n  const mountShareWidget = async () => {\r\n    if (inMobile) return;\r\n\r\n    const themeData = await getSubDep();\r\n    const widget = themeData.subDep.find((item: any) => item.name === \"ZhuC/Freelog插件-展品分享\");\r\n    if (!widget) return;\r\n    console.log(8888, widget)\r\n    shareWidget.current = await mountWidget({\r\n      widget,\r\n      container: document.getElementById(\"share\"),\r\n      topExhibitData: themeData,\r\n      config: { exhibit: novel, type: \"小说\" },\r\n      widget_entry: \"https://localhost:8200\"\r\n    });\r\n  };\r\n\r\n  /** 通知插件更新数据 */\r\n  const setWidgetData = (key: string, value: any) => {\r\n    if (shareWidget.current && shareWidget.current.getApi().setData) {\r\n      shareWidget.current.getApi().setData(key, value);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setHref(getCurrentUrl());\r\n\r\n    return () => {\r\n      if (inMobile) return;\r\n      (async function unmountWidget() {\r\n        // await shareWidget.current.unmount();\r\n      })();\r\n    };\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const introHeight = introContent.current?.clientHeight;\r\n    const foldHeight = inMobile ? 120 : 60;\r\n    if (introHeight > foldHeight) setIntroState(1);\r\n    if (novel) mountShareWidget();\r\n    // eslint-disable-next-line\r\n  }, [novel, inMobile]);\r\n\r\n  return inMobile ? (\r\n    // mobile\r\n    <div className=\"mobile-content\">\r\n      {/* 授权链异常提示 */}\r\n      {novel && (\r\n        <>\r\n          {![0, 4].includes(novel.defaulterIdentityType) && (\r\n            <div className=\"auth-link-abnormal-tip\">\r\n              <img className=\"auth-link-abnormal\" src={AuthLinkAbnormal} alt=\"授权链异常\" />\r\n              <div className=\"tip-text\">授权链异常，无法查看</div>\r\n            </div>\r\n          )}\r\n          {/* 书籍信息 */}\r\n          <div className=\"novel-info\">\r\n            <div className=\"novel-base-info\">\r\n              <div className=\"novel-cover\">\r\n                <img className=\"novel-cover-image\" src={novel.coverImages[0]} alt={novel.exhibitTitle} />\r\n              </div>\r\n\r\n              <div className=\"novel-content\">\r\n                <div className=\"content-top\">\r\n                  <div className=\"novel-name\">{novel.exhibitTitle}</div>\r\n\r\n                  <div className=\"novel-author\">{novel.articleInfo.articleOwnerName}</div>\r\n\r\n                  <div className=\"tags\">\r\n                    <Tags data={novel.tags || []} />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"content-bottom\">\r\n                  <div className=\"sign-count\">{novel.signCount}人签约</div>\r\n                  <div className=\"share-btn\" onClick={() => share()}>\r\n                    <span className=\"share-btn-text\">\r\n                      <i className=\"freelog fl-icon-fenxiang\"></i>\r\n                      分享给更多人\r\n                    </span>\r\n                  </div>\r\n                  <input id=\"href\" className=\"hidden-input\" value={href} readOnly />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"novel-date-info\">\r\n              <div className=\"date-info\">创建时间：{formatDate(novel.createDate)}</div>\r\n\r\n              <div className=\"date-info\">最近更新：{formatDate(novel.updateDate)}</div>\r\n            </div>\r\n\r\n            <div className=\"operate-btns\">\r\n              <div\r\n                className={`btn main-btn mobile ${![0, 4].includes(novel.defaulterIdentityType) && \"disabled\"}`}\r\n                onClick={() => history.switchPage(`/reader?id=${novel.exhibitId}`)}\r\n              >\r\n                立即阅读\r\n              </div>\r\n              <div\r\n                className={`btn ${isCollected ? \"delete\" : \"collect-btn mobile\"}`}\r\n                onClick={() => operateShelf(novel)}\r\n              >\r\n                {isCollected ? \"移出书架\" : \"加入书架\"}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {/* 书籍简介 */}\r\n          <div className=\"novel-intro\">\r\n            <div className=\"intro-title\">内容简介</div>\r\n\r\n            {novel.exhibitIntro ? (\r\n              <div className={`intro ${introState === 1 ? \"fold\" : \"unfold\"}`}>\r\n                <div className=\"intro-content\" ref={introContent}>\r\n                  {novel.exhibitIntro}\r\n                </div>\r\n\r\n                {introState === 1 && (\r\n                  <div className=\"view-all-btn\" onClick={() => setIntroState(3)}>\r\n                    ...查看全部\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ) : (\r\n              <div className=\"no-intro-tip\">暂无简介</div>\r\n            )}\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  ) : (\r\n    // PC\r\n    <div className=\"content\" onMouseOver={() => setWidgetData(\"show\", false)}>\r\n      {novel && (\r\n        <div className=\"content-box\">\r\n          {/* 授权链异常提示 */}\r\n          {![0, 4].includes(novel.defaulterIdentityType) && (\r\n            <div className=\"auth-link-abnormal-tip\">\r\n              <img className=\"auth-link-abnormal\" src={AuthLinkAbnormal} alt=\"授权链异常\" />\r\n              <div className=\"tip-text\">授权链异常，无法查看</div>\r\n            </div>\r\n          )}\r\n          {/* 书籍信息 */}\r\n          <div className=\"novel-info\">\r\n            <div className=\"novel-cover\">\r\n              <img className=\"novel-cover-image\" src={novel.coverImages[0]} alt={novel.exhibitTitle} />\r\n            </div>\r\n\r\n            <div className=\"novel-content\">\r\n              <div className=\"novel-name\">{novel.exhibitTitle}</div>\r\n\r\n              <div className=\"novel-author\">{novel.articleInfo.articleOwnerName}</div>\r\n\r\n              <div className=\"tags\">\r\n                <Tags data={novel.tags || []} />\r\n              </div>\r\n\r\n              <div className=\"create-date\">创建时间：{formatDate(novel.createDate)}</div>\r\n\r\n              <div className=\"update-date\">最近更新：{formatDate(novel.updateDate)}</div>\r\n\r\n              <div className=\"btns-box\">\r\n                <div className=\"operate-btns\">\r\n                  <div\r\n                    className={`btn main-btn ${![0, 4].includes(novel.defaulterIdentityType) && \"disabled\"}`}\r\n                    onClick={() => history.switchPage(`/reader?id=${novel.exhibitId}`)}\r\n                  >\r\n                    立即阅读\r\n                  </div>\r\n                  <div\r\n                    className={`btn ${isCollected ? \"warning-btn\" : \"collect-btn\"}`}\r\n                    onClick={() => operateShelf(novel)}\r\n                  >\r\n                    {isCollected ? \"移出书架\" : \"加入书架\"}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"other-btns\">\r\n                  <div className=\"sign-count\">{novel.signCount}人签约</div>\r\n                  <div\r\n                    className=\"share-btn\"\r\n                    onMouseOver={(e) => {\r\n                      e.stopPropagation();\r\n                      setWidgetData(\"show\", true);\r\n                    }}\r\n                  >\r\n                    <span className=\"share-btn-text\">\r\n                      <i className=\"freelog fl-icon-fenxiang\"></i>\r\n                      分享给更多人\r\n                    </span>\r\n\r\n                    <div id=\"share\" className=\"share-wrapper\" />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* 书籍简介 */}\r\n          <div className=\"novel-intro\">\r\n            <div className=\"intro-title\">内容简介</div>\r\n\r\n            {novel.exhibitIntro ? (\r\n              <div className={`intro ${introState === 1 ? \"fold\" : \"unfold\"}`}>\r\n                <div className=\"intro-content\" ref={introContent}>\r\n                  {novel.exhibitIntro}\r\n                </div>\r\n\r\n                {introState === 1 && (\r\n                  <div className=\"view-all-btn\" onClick={() => setIntroState(3)}>\r\n                    ...查看全部\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ) : (\r\n              <div className=\"no-intro-tip\">暂无简介</div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/reader-bg.ff48362f.png\";","import \"./back-top.scss\";\r\nimport CSSTransition from \"react-transition-group/CSSTransition\";\r\nimport { useMyScroll } from \"../../utils/hooks\";\r\nimport { ReactChild } from \"react\";\r\n\r\n/** 回到顶部控件 */\r\nexport const BackTop = (props: { children: ReactChild; onClick?: () => void }) => {\r\n  const { scrollTop, scrollToTop } = useMyScroll();\r\n  const { children, onClick } = props;\r\n\r\n  /** 回到顶部 */\r\n  const backToTop = () => {\r\n    onClick && onClick();\r\n    scrollToTop();\r\n  };\r\n\r\n  return (\r\n    <CSSTransition in={scrollTop > 300} classNames=\"fade\" timeout={500} unmountOnExit onClick={() => backToTop()}>\r\n      {children}\r\n    </CSSTransition>\r\n  );\r\n};\r\n","import React, { useContext, useRef } from \"react\";\r\nimport \"./reader.scss\";\r\nimport Lock from \"../../assets/images/lock.png\";\r\nimport BgImage from \"../../assets/images/reader-bg.png\";\r\nimport AuthLinkAbnormal from \"../../assets/images/auth-link-abnormal.png\";\r\nimport { useState, useEffect, useCallback } from \"react\";\r\nimport { ExhibitItem, ThemeItem } from \"../../api/interface\";\r\nimport {\r\n  addAuth,\r\n  getExhibitAuthStatus,\r\n  getExhibitFileStream,\r\n  getExhibitInfo,\r\n  getSubDep,\r\n  mountWidget,\r\n} from \"../../api/freelog\";\r\nimport { readerThemeList } from \"../../api/data\";\r\nimport { BackTop } from \"../../components/back-top/back-top\";\r\nimport { useMyHistory, useMyScroll, useMyShelf } from \"../../utils/hooks\";\r\nimport { Header } from \"../../components/header/header\";\r\nimport { globalContext } from \"../../router\";\r\nimport { showToast } from \"../../components/toast/toast\";\r\nimport CSSTransition from \"react-transition-group/CSSTransition\";\r\nimport { Loader } from \"../../components/loader/loader\";\r\nimport { getUrlParams } from \"../../utils/common\";\r\n\r\nexport const readerContext = React.createContext<any>({});\r\n\r\n/** 阅读页 */\r\nexport const ReaderScreen = (props: any) => {\r\n  const { id } = getUrlParams(props.location.search);\r\n  const { inMobile } = useContext(globalContext);\r\n  const myTheme = JSON.parse(localStorage.getItem(\"theme\") || \"null\");\r\n  const [book, setBook] = useState<ExhibitItem | null>(null);\r\n  const [fontSize, setFontSize] = useState(22);\r\n  const [theme, setTheme] = useState<ThemeItem>(myTheme || readerThemeList[0]);\r\n  const [fontSizePopupShow, setFontSizePopupShow] = useState(false);\r\n  const [themePopupShow, setThemePopupShow] = useState(false);\r\n  const [mobileBarShow, setMobileBarShow] = useState(true);\r\n  const [loading, setLoading] = useState(true);\r\n  const widgetList = useRef<any>({});\r\n\r\n  /** 获取小说信息 */\r\n  const getNovelInfo = useCallback(async () => {\r\n    setLoading(true);\r\n    const exhibitInfo = await getExhibitInfo(id, { isLoadVersionProperty: 1 });\r\n    setBook(exhibitInfo.data.data);\r\n  }, [id]);\r\n\r\n  /** 加载分享插件 */\r\n  const mountShareWidget = async () => {\r\n    if (inMobile) return;\r\n\r\n    if (widgetList.current.share) await widgetList.current.share.unmount();\r\n    const themeData = await getSubDep();\r\n    const widget = themeData.subDep.find((item: any) => item.name === \"ZhuC/Freelog插件-展品分享\");\r\n    if (!widget) return;\r\n    widgetList.current.share = await mountWidget({\r\n      widget,\r\n      container: document.getElementById(\"share\"),\r\n      topExhibitData: themeData,\r\n      config: { exhibit: book, type: \"小说\" },\r\n      widget_entry: \"https://localhost:8200\"\r\n    });\r\n  };\r\n\r\n  /** 加载 markdown 插件 */\r\n  const mountMarkdownWidget = async (exhibitInfo: ExhibitItem, content: string) => {\r\n    const themeData = await getSubDep();\r\n    const widget = themeData.subDep.find((item: any) => item.name === \"ZhuC/Freelog插件-markdown解析\");\r\n    if (!widget) return;\r\n    const myFontSize = Number(localStorage.getItem(\"fontSize\")) || 22;\r\n    setFontSize(myFontSize);\r\n    widgetList.current.markdown = await mountWidget({\r\n      widget,\r\n      container: document.getElementById(\"markdown\"),\r\n      topExhibitData: themeData,\r\n      config: { exhibitInfo, content, fontSize: myFontSize },\r\n      widget_entry: \"https://localhost:8201\",\r\n    });\r\n  };\r\n\r\n  /** 通知插件更新数据 */\r\n  const setWidgetData = (widget: string, key: string, value: any) => {\r\n    if (widgetList.current[widget] && widgetList.current[widget].getApi().setData) {\r\n      widgetList.current[widget].getApi().setData(key, value);\r\n    }\r\n  };\r\n\r\n  /** 点击页面（关闭所有打开的弹窗） */\r\n  const clickPage = () => {\r\n    setWidgetData(\"share\", \"show\", false);\r\n    if (fontSizePopupShow) setFontSizePopupShow(false);\r\n    if (themePopupShow) setThemePopupShow(false);\r\n    if (inMobile) setMobileBarShow(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      (async function unmountWidget() {\r\n        // eslint-disable-next-line\r\n        for (const key in widgetList.current) {\r\n          // eslint-disable-next-line\r\n          // await widgetList.current[key].unmount();\r\n        }\r\n      })();\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    getNovelInfo();\r\n    // eslint-disable-next-line\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    setWidgetData(\"markdown\", \"fontSize\", fontSize);\r\n  }, [fontSize]);\r\n\r\n  const context = {\r\n    id,\r\n    inMobile,\r\n    book,\r\n    setBook,\r\n    fontSize,\r\n    setFontSize,\r\n    theme,\r\n    setTheme,\r\n    fontSizePopupShow,\r\n    setFontSizePopupShow,\r\n    themePopupShow,\r\n    setThemePopupShow,\r\n    mobileBarShow,\r\n    setMobileBarShow,\r\n    loading,\r\n    setLoading,\r\n    mountShareWidget,\r\n    mountMarkdownWidget,\r\n    setWidgetData,\r\n  };\r\n\r\n  return (\r\n    <readerContext.Provider value={context}>\r\n      <div\r\n        className={`reader-wrapper ${inMobile && \"in-mobile\"}`}\r\n        style={{ backgroundImage: `url(${BgImage})`, backgroundColor: theme?.bgColor }}\r\n        onClick={() => clickPage()}\r\n      >\r\n        <CSSTransition in={(inMobile && mobileBarShow) || !inMobile} classNames=\"slide-up\" timeout={150} unmountOnExit>\r\n          <Header readerHeader={true} />\r\n        </CSSTransition>\r\n        <ReaderBody />\r\n        <OperaterBtns />\r\n      </div>\r\n    </readerContext.Provider>\r\n  );\r\n};\r\n\r\n/** 阅读页主体内容 */\r\nconst ReaderBody = () => {\r\n  const history = useMyHistory();\r\n  const { userData } = useContext(globalContext);\r\n  const { inMobile, book, id, theme, mountMarkdownWidget, loading, setLoading } = useContext(readerContext);\r\n  const [content, setContent] = useState<string>(\"\");\r\n  const [defaulterIdentityType, setDefaulterIdentityType] = useState<number | null>(null);\r\n\r\n  /** 获取小说内容 */\r\n  const getContent = useCallback(async () => {\r\n    let authErrType;\r\n    const statusInfo = await getExhibitAuthStatus(id);\r\n    if (statusInfo.data.data) authErrType = statusInfo.data.data[0].defaulterIdentityType;\r\n    setDefaulterIdentityType(authErrType);\r\n\r\n    if (authErrType === 0) {\r\n      // 已签约并且授权链无异常\r\n      const info: any = await getExhibitFileStream(id);\r\n      if (!info) {\r\n        setLoading(false);\r\n        return;\r\n      }\r\n      setContent(info.data);\r\n    } else if (authErrType === 4) {\r\n      // 标的物未签约，自动弹出授权弹窗\r\n      getAuth();\r\n    }\r\n\r\n    setLoading(false);\r\n    // eslint-disable-next-line\r\n  }, [id]);\r\n\r\n  /** 获取授权 */\r\n  const getAuth = async () => {\r\n    const authResult = await addAuth(id);\r\n    const { status } = authResult;\r\n    if (status === 0) getContent();\r\n  };\r\n\r\n  useEffect(() => {\r\n    getContent();\r\n    // eslint-disable-next-line\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    if (book && content) {\r\n      setLoading(false);\r\n      mountMarkdownWidget(book, content);\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [book, content]);\r\n\r\n  if (loading) {\r\n    return <Loader />;\r\n  } else if (inMobile === true) {\r\n    // mobile\r\n    return (\r\n      <div\r\n        className={`mobile-body-wrapper ${theme?.type === 1 ? \"dark\" : \"light\"}`}\r\n        style={\r\n          {\r\n            backgroundImage: `url(${BgImage})`,\r\n            backgroundColor: theme?.bookColor,\r\n          } as any\r\n        }\r\n      >\r\n        {defaulterIdentityType === 0 && <div id=\"markdown\" />}\r\n        {![null, 0, 4].includes(defaulterIdentityType) ? (\r\n          <div className=\"auth-box\">\r\n            <img className=\"auth-link-abnormal\" src={AuthLinkAbnormal} alt=\"授权链异常\" />\r\n            <div className=\"auth-link-tip\">授权链异常，无法查看</div>\r\n            <div className=\"home-btn\" onClick={() => history.switchPage(\"/home\")}>\r\n              进入首页\r\n            </div>\r\n          </div>\r\n        ) : defaulterIdentityType && (defaulterIdentityType === 4 || userData?.isLogin === false) ? (\r\n          <div className=\"lock-box\">\r\n            <img className=\"lock\" src={Lock} alt=\"未授权\" />\r\n            <div className=\"lock-tip\">展品未开放授权，继续浏览请签约并获取授权</div>\r\n            <div className=\"get-btn\" onClick={() => getAuth()}>\r\n              获得授权\r\n            </div>\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  } else if (inMobile === false) {\r\n    // PC\r\n    return (\r\n      <div className=\"body-wrapper\">\r\n        <div className=\"breadcrumbs-wrapper\">\r\n          <div className=\"breadcrumbs-item\">\r\n            <div className=\"second-text-btn\" onClick={() => history.switchPage(`/detail?id=${id}`)}>\r\n              {book?.exhibitTitle}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div\r\n          className={`content ${theme?.type === 1 ? \"dark\" : \"light\"}`}\r\n          style={\r\n            {\r\n              backgroundImage: `url(${BgImage})`,\r\n              backgroundColor: theme?.bookColor,\r\n            } as any\r\n          }\r\n        >\r\n          {defaulterIdentityType === 0 && <div id=\"markdown\" />}\r\n          {![null, 0, 4].includes(defaulterIdentityType) ? (\r\n            <div className=\"auth-box\">\r\n              <img className=\"auth-link-abnormal\" src={AuthLinkAbnormal} alt=\"授权链异常\" />\r\n              <div className=\"auth-link-tip\">授权链异常，无法查看</div>\r\n              <div className=\"home-btn\" onClick={() => history.switchPage(\"/home\")}>\r\n                进入首页\r\n              </div>\r\n            </div>\r\n          ) : defaulterIdentityType && (defaulterIdentityType === 4 || userData?.isLogin === false) ? (\r\n            <div className=\"lock-box\">\r\n              <img className=\"lock\" src={Lock} alt=\"未授权\" />\r\n              <div className=\"lock-tip\">展品未开放授权，继续浏览请签约并获取授权</div>\r\n              <div className=\"get-btn\" onClick={() => getAuth()}>\r\n                获得授权\r\n              </div>\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n    );\r\n  } else {\r\n    return <></>;\r\n  }\r\n};\r\n\r\n/** 功能操作按钮群 */\r\nconst OperaterBtns = () => {\r\n  const { scrollTop } = useMyScroll();\r\n  const {\r\n    inMobile,\r\n    book,\r\n    fontSize,\r\n    setFontSize,\r\n    theme,\r\n    setTheme,\r\n    fontSizePopupShow,\r\n    setFontSizePopupShow,\r\n    themePopupShow,\r\n    setThemePopupShow,\r\n    mobileBarShow,\r\n    setMobileBarShow,\r\n    mountShareWidget,\r\n    setWidgetData,\r\n  } = useContext(readerContext);\r\n  const { isCollected, operateShelf } = useMyShelf(book?.exhibitId);\r\n  const [href, setHref] = useState(\"\");\r\n  let changingFontSize = useRef(false);\r\n  let changingFontSizeTimer = useRef<any>(null);\r\n\r\n  /** 改变字体大小 */\r\n  const changeFontSize = (type: number) => {\r\n    changingFontSize.current = true;\r\n    clearTimeout(changingFontSizeTimer.current);\r\n    changingFontSizeTimer.current = null;\r\n    let result = fontSize;\r\n    if (type === 0) {\r\n      if (result === 14) return;\r\n      result--;\r\n    } else {\r\n      if (result === 36) return;\r\n      result++;\r\n    }\r\n    setFontSize(result);\r\n    localStorage.setItem(\"fontSize\", result);\r\n    changingFontSizeTimer.current = setTimeout(() => {\r\n      changingFontSize.current = false;\r\n      clearTimeout(changingFontSizeTimer.current);\r\n      changingFontSizeTimer.current = null;\r\n    }, 500);\r\n  };\r\n\r\n  /** 关闭所有弹窗 */\r\n  const closeAllPopup = () => {\r\n    setWidgetData(\"share\", \"show\", false);\r\n    setFontSizePopupShow(false);\r\n    setThemePopupShow(false);\r\n  };\r\n\r\n  /** 移动端分享 */\r\n  const share = () => {\r\n    // 复制链接\r\n    const input: any = document.getElementById(\"href\");\r\n    input.select();\r\n    document.execCommand(\"Copy\");\r\n    showToast(\"链接复制成功～\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (book) mountShareWidget();\r\n    // eslint-disable-next-line\r\n  }, [book]);\r\n\r\n  useEffect(() => {\r\n    setHref((window.location as any).currentURL);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (changingFontSize.current) return;\r\n\r\n    setWidgetData(\"share\", \"show\", false);\r\n    if (fontSizePopupShow) setFontSizePopupShow(false);\r\n    if (themePopupShow) setThemePopupShow(false);\r\n    if (scrollTop === 0 && !mobileBarShow) setMobileBarShow(true);\r\n    if (scrollTop !== 0 && mobileBarShow) setMobileBarShow(false);\r\n    // eslint-disable-next-line\r\n  }, [scrollTop]);\r\n\r\n  useEffect(() => {\r\n    document.body.style.overflowY = (fontSizePopupShow || themePopupShow) && inMobile ? \"hidden\" : \"auto\";\r\n  }, [fontSizePopupShow, themePopupShow, inMobile]);\r\n\r\n  return inMobile ? (\r\n    // mobile\r\n    <CSSTransition in={mobileBarShow} classNames=\"slide-down\" timeout={150} unmountOnExit>\r\n      <div className=\"mobile-operater-wrapper\">\r\n        {isCollected ? (\r\n          <div\r\n            className=\"operater-btn\"\r\n            onClick={() => {\r\n              closeAllPopup();\r\n              operateShelf(book);\r\n            }}\r\n          >\r\n            <i className=\"freelog fl-icon-shoucangxiaoshuoyishoucang\"></i>\r\n            <div className=\"operater-btn-label\">移出书架</div>\r\n          </div>\r\n        ) : (\r\n          <div\r\n            className=\"operater-btn\"\r\n            onClick={() => {\r\n              closeAllPopup();\r\n              operateShelf(book);\r\n            }}\r\n          >\r\n            <i className=\"freelog fl-icon-shoucangxiaoshuo\"></i>\r\n            <div className=\"operater-btn-label\">加入书架</div>\r\n          </div>\r\n        )}\r\n\r\n        <div\r\n          className=\"operater-btn\"\r\n          onClick={() => {\r\n            closeAllPopup();\r\n            share();\r\n          }}\r\n        >\r\n          <i className=\"freelog fl-icon-fenxiang\"></i>\r\n          <div className=\"operater-btn-label\">分享</div>\r\n        </div>\r\n\r\n        <div\r\n          className=\"operater-btn\"\r\n          onClick={() => {\r\n            closeAllPopup();\r\n            setFontSizePopupShow(true);\r\n          }}\r\n        >\r\n          <div className=\"freelog\">A</div>\r\n          <div className=\"operater-btn-label\">字号</div>\r\n        </div>\r\n\r\n        <div\r\n          className=\"operater-btn\"\r\n          onClick={() => {\r\n            closeAllPopup();\r\n            setThemePopupShow(true);\r\n          }}\r\n        >\r\n          <i className=\"freelog fl-icon-beijingyanse\"></i>\r\n          <div className=\"operater-btn-label\">背景色</div>\r\n        </div>\r\n\r\n        {fontSizePopupShow && (\r\n          <div className=\"operater-popup\" onClick={() => setFontSizePopupShow(false)}>\r\n            <div className=\"fontsize-popup\" onClick={(e) => e.stopPropagation()}>\r\n              <div className=\"fontsize-label\" onClick={() => changeFontSize(0)}>\r\n                A-\r\n              </div>\r\n              <div className=\"fontsize-value\">{fontSize}</div>\r\n              <div className=\"fontsize-label\" onClick={() => changeFontSize(1)}>\r\n                A+\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {themePopupShow && (\r\n          <div className=\"operater-popup\" onClick={() => setThemePopupShow(false)}>\r\n            <div className=\"theme-popup\" onClick={(e) => e.stopPropagation()}>\r\n              {readerThemeList.map((item) => {\r\n                return (\r\n                  <div\r\n                    className={`theme-btn ${theme.bookColor === item.bookColor && \"active\"}`}\r\n                    key={item.bookColor}\r\n                    style={{ backgroundColor: item.bookColor }}\r\n                    onClick={() => {\r\n                      setTheme(item);\r\n                      localStorage.setItem(\"theme\", JSON.stringify(item));\r\n                    }}\r\n                  >\r\n                    <i className=\"freelog fl-icon-xuanzhong\"></i>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <input id=\"href\" className=\"hidden-input\" value={href} readOnly />\r\n      </div>\r\n    </CSSTransition>\r\n  ) : (\r\n    // PC\r\n    <div className=\"operater-wrapper\">\r\n      <div className=\"operater-btns-box\">\r\n        {isCollected ? (\r\n          <OperateBtn\r\n            icon=\"fl-icon-shoucangxiaoshuoyishoucang\"\r\n            onClick={() => {\r\n              closeAllPopup();\r\n              operateShelf(book);\r\n            }}\r\n          />\r\n        ) : (\r\n          <OperateBtn\r\n            icon=\"fl-icon-shoucangxiaoshuo\"\r\n            onClick={() => {\r\n              closeAllPopup();\r\n              operateShelf(book);\r\n            }}\r\n          />\r\n        )}\r\n\r\n        <OperateBtn\r\n          icon=\"fl-icon-fenxiang\"\r\n          onClick={() => {\r\n            closeAllPopup();\r\n            setTimeout(() => {\r\n              setWidgetData(\"share\", \"show\", true);\r\n            }, 0);\r\n          }}\r\n          slot={<div id=\"share\" className=\"share-wrapper\" />}\r\n        />\r\n\r\n        <OperateBtn\r\n          text=\"A\"\r\n          onClick={() => {\r\n            closeAllPopup();\r\n            setFontSizePopupShow(true);\r\n          }}\r\n          slot={\r\n            <div\r\n              className={`operater-popup ${theme?.type === 1 ? \"dark\" : \"light\"}`}\r\n              style={{ width: fontSizePopupShow ? \"162px\" : \"0\" }}\r\n            >\r\n              <div className=\"fontsize-label\" onClick={() => changeFontSize(0)}>\r\n                A-\r\n              </div>\r\n              <div className=\"fontsize-value\">{fontSize}</div>\r\n              <div className=\"fontsize-label\" onClick={() => changeFontSize(1)}>\r\n                A+\r\n              </div>\r\n            </div>\r\n          }\r\n        />\r\n\r\n        <OperateBtn\r\n          icon=\"fl-icon-beijingyanse\"\r\n          onClick={() => {\r\n            closeAllPopup();\r\n            setThemePopupShow(true);\r\n          }}\r\n          slot={\r\n            <div className=\"operater-popup\" style={{ width: themePopupShow ? \"228px\" : \"0\" }}>\r\n              {readerThemeList.map((item) => {\r\n                return (\r\n                  <div\r\n                    className={`theme-btn ${theme.bookColor === item.bookColor && \"active\"}`}\r\n                    key={item.bookColor}\r\n                    style={{ backgroundColor: item.bookColor }}\r\n                    onClick={() => {\r\n                      setTheme(item);\r\n                      localStorage.setItem(\"theme\", JSON.stringify(item));\r\n                    }}\r\n                  >\r\n                    <i className=\"freelog fl-icon-xuanzhong\"></i>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          }\r\n        />\r\n\r\n        <BackTop onClick={() => closeAllPopup()}>\r\n          <OperateBtn icon=\"fl-icon-huidaodingbu\" />\r\n        </BackTop>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n/** 功能操作按钮 */\r\nconst OperateBtn = (props: { icon?: string; text?: string; slot?: any; onClick?: (e: any) => void }) => {\r\n  const { icon, text, slot, onClick } = props;\r\n  const { theme } = useContext(readerContext);\r\n\r\n  return (\r\n    <div\r\n      className={`operate-btn-wrapper ${theme?.type === 1 ? \"dark\" : \"light\"}`}\r\n      style={{ backgroundColor: theme?.bookColor }}\r\n      onClick={(e) => e.stopPropagation()}\r\n    >\r\n      {slot}\r\n      {icon && <i className={`freelog ${icon}`} onClick={onClick}></i>}\r\n      {text && (\r\n        <span className=\"freelog\" onClick={onClick}>\r\n          {text}\r\n        </span>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { BrowserRouter, Route, Switch, Redirect } from \"react-router-dom\";\r\n// import { createBrowserHistory } from \"history\";\r\nimport { HomeScreen } from \"../screens/home/home\";\r\nimport { ShelfScreen } from \"../screens/shelf/shelf\";\r\nimport { SignedListScreen } from \"../screens/signed-list/signed-list\";\r\nimport { DetailScreen } from \"../screens/detail/detail\";\r\nimport { ReaderScreen } from \"../screens/reader/reader\";\r\nimport { getSelfConfig, getCurrentUser } from \"../api/freelog\";\r\nimport { judgeDevice } from \"../utils/common\";\r\nimport { themeList } from \"../api/data\";\r\n\r\n/** 全局数据 */\r\ninterface Global {\r\n  inMobile: boolean | null;\r\n  userData: UserData | null;\r\n  selfConfig: any;\r\n  theme: Theme;\r\n  locationHistory: string[];\r\n}\r\n\r\n/** 当前登录用户数据 */\r\ninterface UserData {\r\n  username: string;\r\n  headImage: string;\r\n  mobile: string;\r\n  isLogin: boolean;\r\n}\r\n\r\n/** 主题数据 */\r\ninterface Theme {\r\n  gradientColor: string;\r\n  deriveColor: string;\r\n}\r\n\r\n// const history = createBrowserHistory();\r\n\r\nconst routeList = [\r\n  { name: \"home\", path: \"/home\", component: HomeScreen },\r\n  { name: \"shelf\", path: \"/shelf\", component: ShelfScreen },\r\n  { name: \"signedList\", path: \"/signedList\", component: SignedListScreen },\r\n  { name: \"detail\", path: \"/detail\", component: DetailScreen },\r\n  { name: \"reader\", path: \"/reader\", component: ReaderScreen },\r\n];\r\n\r\nexport const globalContext = React.createContext<Global>({\r\n  inMobile: null,\r\n  userData: null,\r\n  selfConfig: {},\r\n  theme: { gradientColor: \"\", deriveColor: \"\" },\r\n  locationHistory: [],\r\n});\r\n\r\nconst RouterView = () => {\r\n  const [inMobile, setInMobile] = useState<boolean | null>(null);\r\n  const [userData, setUserData] = useState<UserData | null>(null);\r\n  const [selfConfig, setSelfConfig] = useState<any>({});\r\n  const [theme, setTheme] = useState<Theme>({ gradientColor: \"\", deriveColor: \"\" });\r\n  const [locationHistory] = useState<string[]>([]);\r\n\r\n  /** 初始化全局数据 */\r\n  const initGlobalData = async () => {\r\n    const userData = await getCurrentUser();\r\n    const selfConfig = await getSelfConfig();\r\n    const theme = themeList[selfConfig.theme];\r\n    setUserData(userData ? Object.assign(userData, { isLogin: true }) : { isLogin: false });\r\n    setSelfConfig(selfConfig);\r\n    setInMobile(judgeDevice());\r\n    setTheme(theme);\r\n\r\n    const root = document.getElementById(\"root\");\r\n    root?.setAttribute(\"style\", `--gradientColor: ${theme.gradientColor}; --deriveColor: ${theme.deriveColor}`);\r\n  };\r\n  console.log(88888)\r\n  useEffect(() => {\r\n    console.log(234234234)\r\n    initGlobalData();\r\n  }, []);\r\n\r\n  return (\r\n    <globalContext.Provider value={{ inMobile, userData, selfConfig, theme, locationHistory }}>\r\n      <BrowserRouter>\r\n        <Switch>\r\n          <Route path=\"/\" exact render={() => <Redirect to=\"/home\" />} />\r\n          {routeList.map((route) => (\r\n            <Route path={route.path} component={route.component} key={route.name}></Route>\r\n          ))}\r\n          <Route path=\"*\" exact render={() => <Redirect to=\"/home\" />} />\r\n        </Switch>\r\n      </BrowserRouter>\r\n    </globalContext.Provider>\r\n  );\r\n};\r\n\r\nexport default RouterView;\r\n","import ReactDOM from \"react-dom\";\r\nimport \"./index.scss\";\r\n// import reportWebVitals from \"./reportWebVitals\";\r\nimport RouterView from \"./router\";\r\nimport { freelogApp } from \"freelog-runtime\"\r\n\r\nwindow.FREELOG_RESOURCENAME = \"ZhuC/novel-theme\";\r\nfreelogApp.onLogin(() => {\r\n  freelogApp.reload();\r\n});\r\n\r\n\r\n\r\nif (window.__POWERED_BY_WUJIE__) {\r\n  window.__WUJIE_MOUNT = () => {\r\n    ReactDOM.render(<RouterView />, document.getElementById(\"root\"));\r\n  };\r\n  window.__WUJIE_UNMOUNT = () => {\r\n    ReactDOM.unmountComponentAtNode(document.getElementById(\"root\"));\r\n  };\r\n} else {\r\n  ReactDOM.render(<RouterView />, document.getElementById(\"root\"));\r\n}"],"sourceRoot":""}